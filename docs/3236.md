# ä¸ºä»€ä¹ˆæˆ‘ä¸æ˜¯ React æœ¬åœ°å¼€å‘äººå‘˜

> åŸæ–‡ï¼š<https://arielelkin.github.io/articles/why-im-not-a-react-native-developer?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website>

# ä»‹ç»

è®¸å¤šäººç›®å‰æ­£åœ¨è¯„ä¼° React Nativeï¼Œå°†å…¶ä½œä¸ºå¼€å‘ä¸‹ä¸€ä»£ç§»åŠ¨åº”ç”¨çš„å¹³å°ã€‚è¿™ä¸æ˜¯å°äº‹ã€‚åˆ‡æ¢æ‚¨çš„è½¯ä»¶å¼€å‘å¹³å°éœ€è¦å¾ˆé«˜çš„å®‰è£…æˆæœ¬ï¼Œå¹¶å°†æ·±åˆ»å½±å“æ‚¨çš„æ—¥å¸¸ç¼–ç¨‹å·¥ä½œæµç¨‹ã€‚è¿™ä¹Ÿæ˜¯åœ¨ä»»ä½•å®è´¨æ€§çš„ä¸œè¥¿å»ºæˆåï¼Œæ’¤é”€æˆæœ¬æœ€é«˜çš„å†³å®šä¹‹ä¸€ã€‚

ä¹Ÿè®¸æ›´é‡è¦çš„æ˜¯ï¼Œä½ çš„è½¯ä»¶å¼€å‘å¹³å°ä¹Ÿå°†ä½ å¡‘é€ æˆä¸€åè½¯ä»¶å·¥ç¨‹å¸ˆã€‚è½¯ä»¶å¼€å‘å¹³å°é¼“åŠ±(æˆ–å¼ºåˆ¶)ä½¿ç”¨ä¸€ç§è¯­è¨€è€Œä¸æ˜¯å¦ä¸€ç§è¯­è¨€ï¼Œä¼˜å…ˆè€ƒè™‘æŸäº›æ¶æ„ï¼Œéœ€è¦ä½¿ç”¨ç‰¹å®šçš„å·¥å…·å’Œå·¥ä½œæµï¼Œå¹¶å°†æ‚¨ä¸æ•´ä¸ªç”Ÿæ€ç³»ç»ŸåŠå…¶å¼€å‘äººå‘˜ç¤¾åŒºç»“åˆåœ¨ä¸€èµ·ã€‚

è„¸ä¹¦å¸Œæœ›ä½ æ”¹å˜:

![Is Facebook's intention with React Native to wholly replace native mobile development as we know it today? Yes](img/452cf5086abb14aee55d7f542de59426.png)

è€Œ React åŸç”Ÿå›¢é˜Ÿçš„æŒä¹‹ä»¥æ’å’Œå‘•å¿ƒæ²¥è¡€ä¸é‡å¿ƒç›¸åŒ¹é…ã€‚ä»–ä»¬å¼€å‘äº†ä¸€ä¸ªå¦‚æ­¤å¼ºå¤§çš„è½¯ä»¶å¼€å‘å¹³å°ï¼Œå¯ä»¥åˆç†åœ°è®¤ä¸ºå®ƒæ˜¯æˆ‘ä»¬ä¼ ç»Ÿ Xcode/Swift/ObjC æ ˆçš„æ›¿ä»£å“ã€‚

å®ƒä¼šæ˜¯ä¸€ä¸ªå¯è¡Œçš„æ›¿ä»£å“å—ï¼Ÿæˆ‘è¯»è¿‡çš„å…³äº React Native çš„åšå®¢æ–‡ç« æä¾›äº†ä¸€ä¸ªç›¸å½“ç²—ç•¥çš„è¯„ä¼°ã€‚æ²¡æœ‰äººåƒä½ æœŸæœ›çš„é‚£æ ·ä»è¯•å›¾è¯´æœä½ æ”¹å˜ä½ çš„è½¯ä»¶å¼€å‘å¹³å°çš„äººé‚£é‡Œè¯„ä¼°å®ƒçš„ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚

åœ¨ä½¿ç”¨ React Native å‡ ä¸ªæœˆä¹‹åï¼Œæˆ‘å‘ç°å®ƒæ—¢ä¸æ˜¯ä¸€ä¸ªæˆ‘æ„¿æ„å¼€å‘çš„å¹³å°ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªæˆ‘æ¨èä½¿ç”¨çš„å¹³å°ã€‚æœ¬æ–‡å»ºè®®å¯¹ä»å¿«é€Ÿå¼€å‘è½¬æ¢åˆ°ååº”åŸç”Ÿçš„åˆ©å¼Šè¿›è¡Œæ›´å…¨é¢çš„è¯„ä¼°ï¼Œå¹¶åå¯¹è¿™ç§è½¬æ¢ã€‚

# èµæˆçš„æ„è§

## å£°æ˜å¼é£æ ¼

æˆ‘å‘ç°ä½¿ç”¨ React Native ä»¤äººæ„‰å¿«çš„ä¸€ç‚¹æ˜¯ UI ç¼–ç¨‹çš„å£°æ˜å¼é£æ ¼ã€‚åœ¨ React ä¸­ï¼ŒUI æ˜¯çŠ¶æ€å’Œå±æ€§çš„å‡½æ•°ï¼Œè€Œåœ¨ Cocoa Touch ä¸­ï¼ŒUI æ˜¯å¼ºåˆ¶æ€§ç¼–å†™çš„ã€‚

ä¸‹é¢çš„ä¾‹å­å°†é˜æ˜æˆ‘çš„æ„æ€ã€‚å‡è®¾æˆ‘ä»¬çš„ UI éœ€è¦åœ¨å±å¹•çš„å·¦ä¸Šæ–¹åŒ…å«ä¸€ä¸ªå°æ–¹å—ï¼Œå¦‚æœç”¨æˆ·è¿æ¥äº†ï¼Œè¿™ä¸ªå°æ–¹å—åº”è¯¥æ˜¯çº¢è‰²çš„ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰è¿æ¥ï¼Œè¿™ä¸ªå°æ–¹å—åº”è¯¥æ˜¯ç»¿è‰²çš„ã€‚

ä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨ iOS ä¸Šé€šå¸¸çš„åšæ³•:

```
class ViewController: UIViewController {

  let indicatorView = ConnectivityIndicatorView()

  override func viewDidLoad() {
    super.viewDidLoad()

    let indicatorViewFrame = CGRect(origin: CGPoint.zero, size: CGSize(width: 20, height: 20))
    indicatorView.frame = indicatorViewFrame
    view.addSubview(indicatorView)
  }
}

class ConnectivityIndicatorView: UIView {

  var isConnected: Bool = false {
    didSet {
      if isConnected {
        backgroundColor = .green
      } else {
        backgroundColor = .red
      }
    }
  }

  override func didMoveToSuperview() {
    super.didMoveToSuperview()

    let weAreConnected: Bool = arc4random()%10 > 4
    self.isConnected = weAreConnected
  }
} 
```

åœ¨å‘½ä»¤å¼é£æ ¼ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šæ›´æ–° UI æ‰€éœ€çš„æ‰€æœ‰æ­¥éª¤ã€‚æˆ‘ä»¬éœ€è¦ç›‘å¬`isConnected`ä¸­çš„å˜åŒ–ï¼Œå¹¶ç›¸åº”åœ°æ›´æ–°è§†å›¾ã€‚æˆ‘ä»¬å‘Šè¯‰ iOS *å¦‚ä½•*è®¡ç®—çŠ¶æ€ã€‚

å°†æ­¤ä¸ React çš„å£°æ˜æ–¹å¼è¿›è¡Œæ¯”è¾ƒ:

> åªéœ€è¡¨è¾¾æ‚¨çš„åº”ç”¨åœ¨ä»»ä½•ç»™å®šæ—¶é—´ç‚¹çš„å¤–è§‚ï¼Œå½“æ‚¨çš„åº•å±‚æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReact å°†è‡ªåŠ¨ç®¡ç†æ‰€æœ‰ UI æ›´æ–°ã€‚

```
class Root extends Component {
  render() {
    return (
      <ConnectivityIndicatorView />
    );
  }
}

class ConnectivityIndicatorView extends Component {

  constructor() {
    super()
    this.state = {
      isConnected: false
    }
  }

  componentDidMount() {
    var weAreConnected = Math.floor(Math.random() * 10) > 5;
    this.setState({ isConnected: weAreConnected });
  }

  render() {
    var color = this.state.isConnected ? 'green' : 'red';
    return (

      <View style={{'backgroundColor': color, 'width': 20, 'height': 20}}>
      </View>
    )
  }
} 
```

React çš„å£°æ˜å¼é£æ ¼è®©ä½ *åœ¨è§†å›¾çš„`render()`æ–¹æ³•ä¸­ç”¨ React æè¿°*ä½ çš„ UIã€‚React æ¡†æ¶ç¡®ä¿çŠ¶æ€çš„ä»»ä½•å˜åŒ–éƒ½ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚æ•°æ®çš„å˜åŒ–(å³å½“`backgroundColor`å˜åŒ–æ—¶)ä¼šè‡ªåŠ¨è§¦å‘ç”¨æˆ·ç•Œé¢çš„å˜åŒ–ã€‚

è¿™æœ‰æ•ˆåœ°é¿å…äº†æ‚¨æ‰‹åŠ¨æ›´æ–°è§†å›¾æ¥å“åº”æ¨¡å‹ä¸­çš„å˜åŒ–ã€‚æ— è®ºæ‚¨æ˜¯å¦å–œæ¬¢æ‘†è„±è¿™ç§è´£ä»»ï¼ŒReact åœ¨ç¡®ä¿æ ¹æ®æ‚¨çš„æè¿°æ‰§è¡Œæ›´æ–°æ–¹é¢åšå¾—éå¸¸å¥½ï¼Œæ‚¨ä¸å†éœ€è¦æ‹…å¿ƒæ¨å‡ºå’Œç»´æŠ¤é‚£ä¸ª`isConnected`å˜é‡çš„å±æ€§è®¾ç½®å™¨ã€‚ä½ æ›´æ–°çš„åªæ˜¯çŠ¶æ€ã€‚

æ‚¨è¿˜ä¼šæ³¨æ„åˆ°ï¼Œæ‚¨æœ€ç»ˆå¯¹ UI å…ƒç´ çš„æ¨ç†å°±åƒå®ƒä»¬æ˜¯å‡½æ•°è€Œä¸æ˜¯ç±»çš„å®ä¾‹ä¸€æ ·ã€‚å®ƒä»¬æ¥å—çŠ¶æ€å¹¶å‘ˆç°ä¸€ä¸ª UIKit å¯¹è±¡ã€‚ä¸€ä¸ª`Component`çš„ç›®çš„æ˜¯åœ¨è¢«è¯·æ±‚çš„æ—¶å€™ï¼ŒæŠŠå®ƒè‡ªå·±è¿”å›åˆ°å®ƒåº”è¯¥åœ¨çš„çŠ¶æ€ã€‚

æˆ‘å‘ç°è¿™æ˜¯ä¸€ç§æ€è€ƒ UI çš„æœ‰ç”¨æ–¹å¼ã€‚è¿™æ˜¯å¯¹ MVC çš„ä¸€ä¸ªå¾ˆå¥½çš„è¿›åŒ–ï¼Œè§†å›¾åªè´Ÿè´£æ˜¾ç¤ºè‡ªå·±ï¼Œè€Œä¸è´Ÿè´£ç®¡ç†æ•°æ®ï¼Œè¿™æ˜¯å¯¹`UIViewController`çš„ä¸€ä¸ªå¾ˆå¥½çš„èƒŒç¦»ï¼Œå®ƒå¯¹ V å’Œ c ä¹‹é—´çš„ä¹±ä¼¦å…³ç³»è§†è€Œä¸è§ã€‚

## æ›´å¿«çš„è¿­ä»£

React Native å¸å¼•çš„ä¸ä»…ä»…æ˜¯çŸ¥è¯†åˆ†å­ï¼Œæ¡†æ¶ä¹Ÿä¼šå¸å¼•åŠ¡å®çš„äººã€‚

å½“æ‚¨åœ¨ React Native ä¸­ç¼–ç¨‹æ—¶ï¼Œæ¡†æ¶å°†åˆ›å»ºä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œä¸ºæ‚¨æ­£åœ¨å¤„ç†çš„ JavaScript æ–‡ä»¶æä¾›æœåŠ¡ã€‚æ‚¨åªéœ€æ„å»ºä¸€æ¬¡åº”ç”¨ç¨‹åº*ï¼Œåœ¨ iOS æ¨¡æ‹Ÿå™¨æˆ–è®¾å¤‡ä¸Šè¿è¡Œå®ƒï¼ŒReact Native å°±ä¼šç¡®ä¿æ‚¨åœ¨ JavaScript ä¸­æ‰€åšçš„ä»»ä½•æ›´æ”¹éƒ½ä¼šåæ˜ åœ¨åº”ç”¨ç¨‹åºä¸­ã€‚*

 *ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©:

*   å®æ—¶é‡æ–°åŠ è½½å°†åœ¨æ‚¨æ¯æ¬¡ç¼–è¾‘å’Œä¿å­˜å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶æ—¶é‡æ–°åŠ è½½åº”ç”¨ç¨‹åºã€‚åŸºæœ¬çœå»äº†ä½ åˆ‡æ¢åˆ°æ¨¡æ‹Ÿå™¨æŒ‰`âŒ˜ + R`çš„éº»çƒ¦ã€‚
*   çƒ­é‡æ–°åŠ è½½ä¸ä¼šé‡æ–°åŠ è½½æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œå®ƒåªä¼šé‡æ–°åŠ è½½æ‚¨åˆšåˆšç¼–è¾‘çš„æ–‡ä»¶ã€‚æ¯”æ–¹è¯´ï¼Œå¦‚æœæ‚¨æ­£åœ¨å¯¼èˆªå †æ ˆå†…éƒ¨çš„è¡¨æ ¼è§†å›¾å•å…ƒæ ¼çš„ UI ä¸Šå·¥ä½œï¼Œé‚£ä¹ˆæ›´æ”¹å°†ç«‹å³åæ˜ åœ¨æ‚¨åœ¨æ¨¡æ‹Ÿå™¨ä¸­çœ‹åˆ°çš„å•å…ƒæ ¼ä¸­ï¼Œæ‚¨ä¸å¿…ä»å¯åŠ¨å±å¹•å¯¼èˆªåˆ°å•å…ƒæ ¼æ¥æŸ¥çœ‹æ›´æ”¹ã€‚ç»„ä»¶å°†ä¿æŒåŸæ¥çš„çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ç§æ‰€è§å³æ‰€å¾—çš„ç¼–ç¨‹ä½“éªŒï¼Œæ˜¯ Xcode æ— æ³•ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæä¾›çš„ä¸€ç§äº«å—ã€‚

æˆ‘è®°å¾—æˆ‘å¿…é¡»åœ¨ AppDelegate ä¸­ä¸ºæˆ‘å¸Œæœ›åº”ç”¨ç¨‹åºåœ¨å¯åŠ¨æ—¶æ˜¾ç¤ºçš„æ¯ä¸ª ViewController æ·»åŠ ä¸€ä¸ª debug æ–¹æ³•ï¼Œè¿™æ ·æˆ‘å°±ä¸å¿…åœ¨æ¯æ¬¡è¿è¡Œåº”ç”¨ç¨‹åºæ—¶æ‰‹åŠ¨å¯¼èˆªåˆ°å®ƒï¼Œä»¥æŸ¥çœ‹æˆ‘åˆšæ‰ç¼–ç çš„æ›´æ”¹ã€‚çƒ­é‡è£…ç°åœ¨è®©æˆ‘è§‰å¾—è‡ªå·±åƒä¸ªç©´å±…äººã€‚

React Native çš„åé¦ˆå›è·¯*ä½å¾—ä»¤äººç€è¿·*ã€‚ä»ä½ ä¿å­˜æ–‡ä»¶åˆ°åœ¨ä½ çš„åº”ç”¨ä¸­çœ‹åˆ°æ”¹å˜åªéœ€è¦ä¸åˆ°ä¸€ä¸¤ç§’çš„æ—¶é—´ã€‚è¿™æ¯”æˆ‘ä»¬åœ¨ Xcode ä¸­ä¹ æƒ¯çš„å…¸å‹æ„å»ºå’Œè¿è¡Œå‘¨æœŸå°‘äº† 10 å€ã€‚

è¿™å…è®¸ç©ºä¸­ä»£ç æ›´æ–°ã€‚å½“åº”ç”¨ç¨‹åºå¤„äºç”Ÿäº§é˜¶æ®µæ—¶ï¼ŒJavaScript ä»£ç ä¸­çš„ä»»ä½•å˜åŒ–éƒ½å¯ä»¥ç«‹å³æ¨é€ç»™ç”¨æˆ·ã€‚

## è·¨å¹³å°

è¿˜è®°å¾—é‚£æ¬¡ç²—é²å°´å°¬çš„è°ˆè¯å—ï¼Ÿ

> â€œå¾ˆæ£’çš„ appï¼åœ¨ Android ä¸Šè¿è¡Œå—ï¼Ÿ[â€¦â€¦]å“¦ã€‚ä½ æ‰“ç®—ä»€ä¹ˆæ—¶å€™å‘å¸ƒå®‰å“ç‰ˆæœ¬ï¼Ÿ[â€¦â€¦]å“¦ã€‚â€

æ‚¨çš„ä»£ç åº“ç°åœ¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨æ•°ç™¾ä¸‡å°é™„åŠ è®¾å¤‡ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æ‚¨å·²ç»å°†æ‚¨çš„å½±å“èŒƒå›´æé«˜äº†å‡ ä¸ªæ•°é‡çº§ã€‚

æˆ‘å¯ä»¥è¯æ˜ï¼Œç›¸åŒçš„ä»£ç åº“å°†å¯é åœ°åœ¨ä¸¤ä¸ªå¹³å°ä¸Šç”Ÿæˆå¤–è§‚ç›¸åŒã€è¡Œä¸ºç›¸åŒçš„åº”ç”¨ç¨‹åºã€‚

èƒ½å¤Ÿä»ç›¸åŒçš„ä»£ç åº“ç”Ÿæˆä½ çš„åº”ç”¨ç¨‹åºçš„ Android ç‰ˆæœ¬ï¼Œåœ¨å›¾å½¢å’ŒåŠŸèƒ½ä¸Šç­‰åŒäºå®ƒçš„ iOS ç‰ˆæœ¬ï¼Œè¿™æ˜¯ä¸€ç§æˆæƒã€‚

ä»»ä½•è·¨å¹³å°æ¡†æ¶çš„æ˜æ˜¾ä¼˜åŠ¿æ€»æ˜¯å¼•äººæ³¨ç›®çš„:å¸‚åœºå¼€å‘ï¼Œç»Ÿä¸€çš„ä»£ç åº“ï¼Œä»¥åŠç»´æŠ¤åº”ç”¨ç¨‹åºä»£ç åº“æ‰€éœ€çš„ç»Ÿä¸€æŠ€èƒ½é›†ã€‚

# éª—å±€

## ä¸ç¡®å®šçš„è·¯çº¿å›¾

ä½¿ç”¨ React Native çš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯ç¼ºä¹å¯¹é¡¹ç›®çš„é•¿æœŸæ‰¿è¯ºã€‚

å¦‚æœè¿™ä¸ªé¡¹ç›®ä»…ä»…æ˜¯æˆ‘çš„åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªå³æ’å³ç”¨ç»„ä»¶*ï¼Œå°±åƒä¸€ä¸ªç½‘ç»œåº“æˆ–ä¸€ä¸ª SVG to `CGPath`æ¸²æŸ“å™¨ï¼Œå®ƒçš„é•¿æœŸç”Ÿå­˜å’Œç»´æŠ¤æ˜¯æˆ‘çš„ç¬¬äºŒå…³å¿ƒçš„é—®é¢˜ï¼›å› ä¸ºå¦‚æœå®ƒçš„å¼€å‘è€…æ”¾å¼ƒäº†å®ƒï¼Œæˆ–è€…å¦‚æœå®ƒçš„å¼€å‘é€Ÿåº¦ä¸ä»¤äººæ»¡æ„â€”â€”å°½ç®¡è¿™å¯èƒ½ä»¤äººéš¾è¿‡â€”â€”æˆ‘å¯ä»¥ç”¨ä¸€ä¸ªå¤§è‡´ç›¸å½“çš„åº“æ¥ä»£æ›¿å®ƒï¼Œæˆ–è€…è‡ªå·±è¿›è¡Œç»´æŠ¤ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä»¶å¤§äº‹ï¼Œä½†æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šæ˜¯ä¸€ä»¶å¤§äº‹ï¼›æˆ‘ç¡®ä¿ä¸æˆ‘æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åº“/CocoaPods æœ‰è¶³å¤Ÿå®½æ¾çš„è€¦åˆï¼Œä»¥ç¡®ä¿å¦‚æœä¸€ä¸ªåº“åœæ»æˆ–ä¸¢å¤±ï¼Œæ•´ä¸ªé¡¹ç›®ä¸ä¼šå´©æºƒã€‚*

 *ä½†æ˜¯ React Native ä¸æ˜¯ä¸€ä¸ªå³æ’å³ç”¨çš„ CocoaPodï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªç®€å•çš„ SDKï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªç®€å•çš„åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶å¼€å‘å¹³å°ã€‚è¯´æˆ‘çš„åº”ç”¨ç¨‹åºä¸å®ƒâ€œç´§å¯†è€¦åˆâ€æ˜¯ä¸€ç§ä¿å®ˆçš„è¯´æ³•ï¼Œæˆ‘çš„åº”ç”¨ç¨‹åºå®Œå…¨ä¾èµ–äº T2ã€‚å¦‚æœè„¸ä¹¦åœæ­¢ç»´æŠ¤ React Nativeï¼Œæˆ‘çš„åº”ç”¨å°†ä¼šåœæ»ä¸å‰ï¼Œä¹Ÿä¸ä¼šæœ‰â€œReact Native æ›¿ä»£å“â€ä¾›æˆ‘ä½¿ç”¨ã€‚å¦‚æœæˆ‘æƒ³è‡ªå·±è¿›è¡Œå¼€å‘ï¼Œæˆ‘å¿…é¡»ç†Ÿæ‚‰ React åŸç”Ÿæºä»£ç ã€*ä»¥åŠ*React . js ä»£ç åº“ã€React åŸç”Ÿ CLI å·¥å…·å’Œ`JavaScriptCore`ã€‚ç¤¾åŒºèƒ½ç¡®ä¿é¡¹ç›®å­˜æ´»ä¸‹æ¥å—ï¼Ÿä¹Ÿè®¸å§â€”â€”å¦‚æœçœŸçš„å‘ç”Ÿäº†ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šä»¥æˆ‘ä»¬ä¹ æƒ¯çš„é€Ÿåº¦å‘ç”Ÿã€‚

åœ¨ GitHub å­˜å‚¨åº“ä¸Šï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæ–°çš„ React åŸç”Ÿç‰ˆæœ¬ï¼Œå¤§çº¦æ¯ä¸¤å‘¨å‘å¸ƒä¸€æ¬¡ã€‚å¯¹äºä¸€ä¸ªä»¥ä¸¤ä¸ªç‹¬ç«‹è€Œå¤æ‚çš„è½¯ä»¶å¼€å‘å¹³å°ä¸ºç›®æ ‡çš„è½¯ä»¶å¼€å‘å¹³å°æ¥è¯´ï¼Œè¿™å·²ç»ä¸é”™äº†ã€‚å°½ç®¡ä»Šå¤©çœ‹èµ·æ¥å¾ˆæœ‰å¸Œæœ›ï¼Œä½†è„¸ä¹¦è¿˜æ²¡æœ‰åšå‡ºä»»ä½•é•¿æœŸæ‰¿è¯ºæ¥ç»´æŒ React Native ä¸€æ®µæ—¶é—´ã€‚è¯¥å…¬å¸è¿˜æ²¡æœ‰å‘*æä¾›ä»»ä½•*ä¿è¯ï¼Œå®ƒ*ä¸ä¼š*åœæ­¢è¿™ä¸ªé¡¹ç›®â€”â€”ä¸ä»…ä»…æ˜¯åœ¨å¯é¢„è§çš„æœªæ¥ï¼Œè€Œæ˜¯åœ¨*ä½ çš„åº”ç”¨*çš„ç”Ÿå‘½å‘¨æœŸå†…ã€‚æ¢å¥è¯è¯´ï¼Œä½ ç›®å‰æ— æ³•ä¿è¯å®ƒä¼šä¸ iOS 11 æˆ– 12 å…¼å®¹ã€‚

> ä¸ºä¸‹ä¸€å¹´å¹²æ¯ï¼

ç»“æŸ 2016 å¹´ 4 æœˆçš„ä¸€ç¯‡å®˜æ–¹ React Native åšå®¢å¸–å­ã€‚ä¹‹åçš„å‘¢ï¼Ÿä»¤äººæ‹…å¿§çš„æ˜¯ï¼Œè„¸ä¹¦å¯¹æ­¤ä¿æŒæ²‰é»˜ã€‚

> æˆ‘ä»¬å°†å¾ˆå¿«å…¬å¸ƒè®¡åˆ’-åº·æ–¯å¦ä¸

React åŸç”Ÿå›¢é˜Ÿåœ¨ 2015 å¹´ 12 æœˆè¯´é“ã€‚è¿™äº›è®¡åˆ’å°šæœªå…¬å¸ƒã€‚è„¸ä¹¦å¯¹ React Native çš„é•¿æœŸæˆæœ¬æ•ˆç›Šåˆ†æçš„ç»“æœï¼Œå¦‚æœæ›¾ç»æœ‰è¿‡çš„è¯ï¼Œå¬èµ·æ¥æ²¡æœ‰ä½ æƒ³è±¡çš„é‚£ä¹ˆå¯æ€•ã€‚

åŒæ ·ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨è®¨è®ºä¸€ä¸ªå•ç‹¬çš„ Cocoapodï¼Œæˆ‘ä»¬æ˜¯åœ¨è®¨è®ºä½ çš„ä»£ç å¯ä»¥åœ¨ä¸Šè¿è¡Œçš„å”¯ä¸€å¹³å°*ã€‚è¿™æ˜¯ä¸€ç§ä½ éœ€è¦é•¿æœŸå…³æ³¨çš„äº‹æƒ…ï¼Œè€Œä½ æ²¡æœ‰ã€‚*

## æ˜æ˜¾ä»¤äººç•æƒ§

é™¤äº†å…¶è®¸å¯çš„ BSD é£æ ¼çš„è®¸å¯è¯ï¼ŒReact æœ¬åœ°èˆ¹åªä¸è„¸ä¹¦çš„**é¢å¤–æˆäºˆä¸“åˆ©æƒ**ï¼Œç¬¬ 2 ç‰ˆã€‚è„¸ä¹¦å…¬å¸ƒè¿™ä»½æ–‡ä»¶çš„åŠ¨æœºå°šä¸æ¸…æ¥šï¼Œæ–‡ä»¶æœ¬èº«ä¹Ÿä¸æ¸…æ¥šã€‚

è¿™æ˜¯ä¸€ä»½ä¸¤ææ–‡ä»¶ã€‚åœ¨è¯¥æ–‡æ¡£æˆäºˆæ‚¨ä½¿ç”¨ React Native çš„â€œæ°¸ä¹…ã€å…¨çƒã€å…ç‰ˆç¨ã€éç‹¬å®¶ã€ä¸å¯æ’¤é”€â€è®¸å¯è¯åï¼Œæˆ‘ä»¬æ”¶åˆ°äº†ä»¥ä¸‹æ¡æ¬¾:

> å¦‚æœæ‚¨(æˆ–æ‚¨çš„ä»»ä½•å­å…¬å¸ã€å…¬å¸é™„å±æœºæ„æˆ–ä»£ç†)ç›´æ¥æˆ–é—´æ¥å‘èµ·ä»»ä½•ä¸“åˆ©ä¸»å¼ ï¼Œæˆ–åœ¨å…¶ä¸­è·å¾—ç›´æ¥ç»æµåˆ©ç›Šï¼Œåˆ™æœ¬åè®®æˆäºˆçš„è®¸å¯å°†è‡ªåŠ¨ç»ˆæ­¢ï¼Œæ— éœ€é€šçŸ¥:(I)é’ˆå¯¹è„¸ä¹¦æˆ–å…¶ä»»ä½•å­å…¬å¸æˆ–å…¬å¸é™„å±æœºæ„ï¼›(ii)é’ˆå¯¹ä»»ä½•ä¸€æ–¹ï¼Œå¦‚æœæ­¤ç±»ä¸“åˆ©ä¸»å¼ å…¨éƒ¨æˆ–éƒ¨åˆ†æºäºè„¸ä¹¦æˆ–å…¶ä»»ä½•å­å…¬å¸æˆ–å…¬å¸é™„å±æœºæ„çš„ä»»ä½•è½¯ä»¶ã€æŠ€æœ¯ã€äº§å“æˆ–æœåŠ¡ï¼›æˆ–(iii)é’ˆå¯¹ä¸è½¯ä»¶ç›¸å…³çš„ä»»ä½•ä¸€æ–¹ã€‚

æˆ‘ä¸æ˜¯å¾‹å¸ˆï¼Œæ‰€ä»¥æˆ‘è¯·äº†ä¸€ä½å¾‹å¸ˆæ¥å¸®æˆ‘æ¾„æ¸…è¿™ä¸€ç‚¹(å¦‚æœä½ ä¸æ˜¯å¾‹å¸ˆï¼Œä½ ä¹Ÿåº”è¯¥è¿™æ ·åš)ã€‚æ ¹æ®ä»–çš„è¯´æ³•ï¼Œè¯¥æ¡æ¬¾å¯ä»¥å½’ç»“ä¸º:å¦‚æœæˆ‘å¯¹è„¸ä¹¦æèµ·ä»»ä½•ä¸“åˆ©ä¾µæƒçš„è¯‰è®¼ï¼Œæˆ‘ä½¿ç”¨ React Native çš„è®¸å¯å°†ç«‹å³è¢«ç»ˆæ­¢ã€‚(æˆ‘åœ¨ä¸‹é¢çš„é™„å½•ä¸­å¼•ç”¨äº†ä»–æ›´è¯¦ç»†çš„åˆ†æã€‚)

å®é™…ä¸Šï¼Œè¿™ä¼¼ä¹å¯¹æˆ‘èµ·è¯‰è„¸ä¹¦ä¸“åˆ©èµ·åˆ°äº†å¨æ…‘ä½œç”¨ã€‚è¨€ä¸‹ä¹‹æ„ï¼Œè¿™ä¼¼ä¹ä¹Ÿç»™äº†è„¸ä¹¦å¾ˆå¤§çš„å–˜æ¯ç©ºé—´å»ä¾µçŠ¯æˆ‘çš„ä¸“åˆ©(â€œä½ æ‹¥æœ‰å¾ˆå¥½çš„é‡å­ç‰©ç†æŠ€æœ¯ï¼Œå¦‚æœä½ çš„åº”ç”¨å‘ç”Ÿäº†ä¸å¥½çš„äº‹æƒ…ï¼Œé‚£å°†æ˜¯ä¸€ç§è€»è¾±â€)ã€‚

ä½ å¯èƒ½ä¼šè§‰å¾—ä¸Šé¢çš„è§£é‡Šå¾ˆæ‚²è§‚ã€‚ä½†æ˜¯åœ¨è¯„ä¼°è½¯ä»¶è®¸å¯å’Œä¸“åˆ©æ—¶ï¼Œä½ åº”è¯¥æŒæ‚²è§‚æ€åº¦ã€‚æˆ‘ä»¬æ ¹æ®ç®—æ³•åœ¨æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹çš„è¡¨ç°æ¥è¯„ä¼°ç®—æ³•çš„æ•ˆç‡ã€‚æˆ‘è®¤ä¸ºæˆ‘ä»¬ä¹Ÿåº”è¯¥è¿™æ ·è¯„ä¼°è½¯ä»¶è®¸å¯å’Œä¸“åˆ©â€”â€”åŸå› å®Œå…¨ç›¸åŒã€‚

çº¿æ€§æœç´¢ç®—æ³•åœ¨ç›®æ ‡å€¼æ°å¥½æ˜¯åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªçš„åœºæ™¯ä¸­è¡¨ç°æœ€ä½³ï¼Œä½†æ˜¯äº‹å®*æœ¬èº«*ä¸è¶³ä»¥è¯´æœæˆ‘åœ¨ä»»ä½•ç»™å®šçš„åœºæ™¯ä¸­ä½¿ç”¨çº¿æ€§æœç´¢ç®—æ³•ã€‚*å¦‚æœç›®æ ‡å€¼æœ‰å¯èƒ½*æ’åœ¨åˆ—è¡¨çš„æœ€åï¼Œæˆ‘çš„çº¿æ€§æœç´¢ç®—æ³•çš„å¹³å‡æ€§èƒ½ä¼šå¾ˆå·®ã€‚

åŒæ ·ï¼Œè„¸ä¹¦ä»Šå¤©ç¢°å·§ä¸æ˜¯ä¸€ä¸ªè¿ç»­çš„çŸ¥è¯†äº§æƒä¾µæƒè€…*è¿™ä¸€äº‹å®è®©æˆ‘å¾ˆå°‘*æ”¾å¿ƒï¼Œå¦‚æœæ˜å¤©*è„¸ä¹¦æœ‰å¯èƒ½æˆä¸ºä¸€ä¸ªè¿ç»­çš„çŸ¥è¯†äº§æƒä¾µæƒè€…ï¼Œå¹¶é€šè¿‡åŠé”€æˆ‘ä½¿ç”¨ React Native çš„è®¸å¯è¯æ¥æƒ©ç½šæˆ‘è¿™è¾¹çš„ä»»ä½•æŠ¥å¤ã€‚å¦‚æœè„¸ä¹¦æ˜å¤©ä¾µçŠ¯äº†æˆ‘çš„çŸ¥è¯†äº§æƒ(ä¸ç®¡å®ƒä¸æˆ‘çš„è½¯ä»¶æœ‰å¤šæ— å…³)ï¼Œæˆ‘èµ·è¯‰ä»–ä»¬ï¼Œæˆ‘å·²ç»ç»™äº†ä»–ä»¬æƒåˆ©æ‹”æ‰æˆ‘åº”ç”¨ç¨‹åºçš„æ’å¤´ã€‚*

 *æˆ‘åœ¨è¿™é‡Œå±åŠçš„æ˜¯æˆ‘çš„åº”ç”¨ä¾èµ–çš„å¹³å°å’Œæˆ‘çš„çŸ¥è¯†äº§æƒã€‚

iOS åº”ç”¨ç¨‹åºè¿›å…¥åº”ç”¨å•†åº—*å®Œå…¨ç”±è‹¹æœå†³å®š*ã€‚æˆ‘ä¸æƒ³æŠŠé‚£ç§ä¸å®‰çš„æ„Ÿè§‰ä¹˜ä»¥äºŒã€‚

### æ˜æ˜¾æ²‰é»˜

ä¸Šé¢çš„è§£è¯»æ­£ç¡®å—ï¼Ÿæœ€åçš„æƒ…å†µæœ‰å¯èƒ½å‘ç”Ÿå—ï¼Ÿæˆ‘æœ‰ç†ç”±æ‹…å¿ƒå—ï¼Ÿæˆ‘æœ‰å……åˆ†çš„ç†ç”±**è€Œä¸æ˜¯**æ‹…å¿ƒå—ï¼Ÿ

åœ¨å„ç§ GitHub é—®é¢˜å’Œè®ºå›å¸–å­ä¸­ï¼Œå¼€å‘è€…å£°ç§°ä»–ä»¬çš„æ³•å¾‹éƒ¨é—¨å»ºè®®ä»–ä»¬*è€Œä¸æ˜¯*ä½¿ç”¨ React æˆ– React Native æ­£æ˜¯å› ä¸ºè¿™ä¸ªæ¡æ¬¾ã€‚å¯¹äºæ²¡æœ‰æ³•å¾‹éƒ¨é—¨çš„å¼€å‘äººå‘˜æ¥è¯´ï¼Œäº‹æƒ…ä»ç„¶éå¸¸æ¨¡ç³Šã€‚

æ›´ä»¤äººæ‹…å¿§çš„æ˜¯ï¼Œè„¸ä¹¦æ²¡æœ‰åšå‡ºä»»ä½•å®è´¨æ€§çš„åŠªåŠ›æ¥æ¾„æ¸…äº‹å®ã€‚è„¸ä¹¦å¼€æºåšå®¢ 2015 å¹´çš„ä¸€ç¯‡å¸–å­æ‰¿è®¤äº†è¿™ç§â€œå›°æƒ‘â€ï¼Œå¹¶æ„‰å¿«åœ°å®£å¸ƒæ¾„æ¸…å…¶é¢å¤–æˆäºˆçš„ä¸“åˆ©æƒã€‚è¶…è¿‡äº”ä¸ªç›¸å…³çš„ GitHub é—®é¢˜ä¹‹åï¼Œè¿·é›¾ä»æœªæ•£å»ã€‚

å„ç§å„æ ·çš„è„¸ä¹¦å¼€å‘è€…å·²ç»å¯¹è¿™äº›é—®é¢˜åšå‡ºäº†å›åº”ï¼Œè¯•å›¾è®©å¼€å‘è€…æ”¾å¿ƒï¼ŒåŒæ—¶æ˜ç¡®è¡¨ç¤ºä»–ä»¬å†™çš„ä»»ä½•ä¸œè¥¿éƒ½ä¸æ˜¯å¯¹ä»»ä½•äº‹æƒ…çš„ä¿è¯ã€‚å…¶ä¸­ä¸€ä¸ªç”šè‡³æä¾›äº† Reddit å’Œ Hacker News ä¸Šå…³äºè¿™ä¸ªé—®é¢˜çš„è®¨è®ºçš„é“¾æ¥â€”â€”æ¯«æ— å¸®åŠ©ï¼Œç”šè‡³æœ‰è¯¯å¯¼æ€§ã€‚

è¿™å·²ç»å˜æˆäº†å¯¹ä¸€ä¸ªçœŸæ­£é‡è¦çš„é—®é¢˜çš„è¯ é‡Šå’Œæ€è€ƒ:è„¸ä¹¦èƒ½æ’¤é”€å®ƒçš„ React æœ¬åœ°è®¸å¯å—ï¼Ÿå¦‚æœæ˜¯ï¼Œåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼Ÿ

### 2017 å¹´ 10 æœˆæ›´æ–°:è„¸ä¹¦é‡æ–°è®¸å¯

â€œåœ¨æˆ‘ä»¬çš„ç¤¾åŒºç»å†äº†å‡ å‘¨çš„å¤±æœ›å’Œä¸ç¡®å®šä¹‹åâ€ï¼Œè„¸ä¹¦åœ¨éº»çœç†å·¥å­¦é™¢çš„è®¸å¯ä¸‹é‡æ–°è®¸å¯äº† Reactã€Jestã€Flow å’Œ Immutable.jsã€‚å¯æ‚²çš„æ˜¯ï¼Œè‡ªæœ¬æ–‡é¦–æ¬¡å‘è¡¨ä»¥æ¥ï¼ŒReact Native çš„è®¸å¯è¯å’Œä¸“åˆ©å¹¶æ²¡æœ‰æ”¹å˜ã€‚

æˆ‘èµèµè„¸ä¹¦äººâ€œä¸æƒ³å› ä¸ºéæŠ€æœ¯åŸå› è€Œé˜»ç¢è¿›æ­¥â€çš„è¯´æ³•ï¼Œä½†æˆ‘å¾ˆéš¾çœ‹å‡ºä»–ä»¬æœ‰ä»€ä¹ˆæŠ€æœ¯åŸå› æ¥ç»´æŒ React Native çš„ä¸Šè¿°çŠ¶å†µã€‚

### 2018 å¹´ 2 æœˆæ›´æ–°:è„¸ä¹¦å†æ¬¡é‡æ–°è®¸å¯

æˆªè‡³ 2018 å¹´ 2 æœˆ 17 æ—¥ï¼Œ[è„¸ä¹¦å°† React Native é‡æ–°æˆæƒä¸º MIT](https://github.com/facebook/react-native/commit/26684cf3adf4094eb6c405d345a75bf8c7c0bf88#diff-9879d6db96fd29134fc802214163b95a) ğŸ‘

## java æè¿°è¯­è¨€

ä» Swift è½¬æ¢åˆ° React Native çš„ä¸€ä¸ªå…³é”®ç¼ºç‚¹æ˜¯**æŠ€æœ¯å€’é€€**:ä½ å¿…é¡»é‡‡ç”¨å’Œä½¿ç”¨ JavaScriptï¼Œè¿™æ˜¯ä¸€ç§

*   æŠ€æœ¯ä¸Šæœ‰ç¼ºé™·
*   å±é™©çš„
*   æ…¢æ…¢è¿›åŒ–

è¯·å…è®¸æˆ‘è§£é‡Šä¸€ä¸‹åŸå› ã€‚

ä»¥ä¸‹æ‰€æœ‰ JavaScript ä»£ç ç¤ºä¾‹éƒ½æ˜¯æœ‰æ•ˆçš„ JavaScript (ES2016)ä»£ç 

### Javascript çš„ä¸è¶³

æˆ‘æœ€å–œæ¬¢çš„ä¿é™©æ è´´çº¸ä¹‹ä¸€å®£ç§°:

> å®‰å…¨ä¸æ˜¯æ„å¤–

ä¹ä¸€çœ‹ï¼Œè¿™å¥ä¿çš®è¯çš„å¦™å¤„åœ¨äºå®ƒçš„åŒé‡å«ä¹‰ã€‚æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªå®‰å…¨çš„å®šä¹‰ï¼Œå³æ²¡æœ‰äº‹æ•…*å’Œ*ï¼Œæš—ç¤ºå®ƒæ˜¯ä¸€å¥—å®‰å…¨æªæ–½çš„äº§ç‰©ã€‚

å®‰å…¨æ˜¯ä½ è½¦å†…å®‰å…¨è£…ç½®çš„äº§ç‰©ï¼Œæ¯”å¦‚å®‰å…¨å¸¦å’Œå®‰å…¨æ°”å›Šï¼Œè¿˜æ˜¯ä½ å®‰å…¨é©¾é©¶çš„äº§ç‰©ï¼Ÿ

ç­”æ¡ˆå½“ç„¶æ˜¯*å’Œ*ä¸€æ ·å¤§ã€‚

å¸æœºä»¬åº”è¯¥æ›´å–œæ¬¢å†…ç½®æœ‰æœ€å¤§é™åº¦å®‰å…¨æªæ–½çš„æ±½è½¦ã€‚ä¸æ˜¯å› ä¸ºå®ƒä»¬è®©é©¾é©¶å˜å¾—æ›´å®¹æ˜“ï¼Œè€Œæ˜¯å› ä¸ºå®ƒä»¬é™ä½äº†ä½ å‘ç”Ÿå¯é¢„é˜²çš„ T2 äº‹æ•…çš„å‡ ç‡ã€‚

åŒæ ·ï¼Œç¼–ç¨‹è¯­è¨€åº”è¯¥æä¾›é˜²æ­¢ç¨‹åºå‘˜å‡ºé”™çš„ä¿æŠ¤æªæ–½ã€‚

äº‹å®ä¸Šï¼Œæ•°ç™¾ä¸‡å¸æœºä¸ç³»å®‰å…¨å¸¦ä¹Ÿèƒ½æœ‰æ•ˆåœ°é©¾é©¶æ±½è½¦ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ”¯æŒæ±½è½¦ä¸ç³»å®‰å…¨å¸¦çš„å¥½ç†ç”±ã€‚ç±»ä¼¼åœ°ï¼Œæ•°ç™¾ä¸‡ JavaScript å¼€å‘äººå‘˜æœ‰æ•ˆåœ°ä½¿ç”¨ä¸€ç§æœ¬è´¨ä¸Šä¸å®‰å…¨çš„è¯­è¨€è¿™ä¸€äº‹å®å¹¶ä¸æ˜¯ä½¿ç”¨ä¸å®‰å…¨è¯­è¨€çš„å¥½ç†ç”±ã€‚

éšç€ iOS å¼€å‘å·¥å…·çš„å‘å±•ï¼Œæˆ‘æ„è¯†åˆ°äº†ç¼–ç¨‹è¯­è¨€ä¸­å®‰å…¨æ€§çš„é‡è¦æ€§ã€‚

å½“è‡ªåŠ¨å¼•ç”¨è®¡æ•°æ¥åˆ° Objective-C æ—¶ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä¸ºæ‚¨çš„ iOS é¡¹ç›®å…³é—­å®ƒã€‚ä¸ºä»€ä¹ˆå…³é—­ ARC ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Ÿå› ä¸ºç¼–è¯‘å™¨ç°åœ¨å¯ä»¥å¯¹æ‚¨çš„å¯¹è±¡çš„ç”Ÿå­˜æœŸè¿›è¡Œè¯„ä¼°ï¼Œè¿™æ¯”æ‚¨çš„æ›´å‡†ç¡®ã€‚â€œç¼–è¯‘å™¨æ¯”ä½ èªæ˜â€æ˜¯ä¸€å¥å£å¤´ç¦…ï¼Œè‡³å°‘å°±å¼•ç”¨è®¡æ•°è€Œè¨€ç¡®å®å¦‚æ­¤ã€‚æˆ‘è®°å¾—å½“æˆ‘æ„è¯†åˆ°æˆ‘çš„è¿è¡Œæ—¶å´©æºƒè¢«å¤§å¤§å‡å°‘æ—¶ï¼Œæˆ‘æ˜¯å¤šä¹ˆçš„æ»¡æ„ã€‚

Objective-C ä¸ºæ‚¨æä¾›äº†å°†å˜é‡ç±»å‹è®¾ç½®ä¸º`id`çš„é€‰é¡¹ï¼Œè¿™ä»£è¡¨â€œä»»ä½•ç±»å‹â€ã€‚ä½†æ˜¯å¯¹å·²çŸ¥ç±»å‹çš„å˜é‡ä½¿ç”¨å®ƒæ˜¯ä¸å¥½çš„åšæ³•ï¼Œå› ä¸ºå®ƒæ‰“å¼€äº†è¿è¡Œæ—¶å´©æºƒçš„å¤§é—¨â€”â€”ç¼–è¯‘å™¨å¯ä»¥é˜²æ­¢ã€‚å¦‚æœè¿™æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨å¯ä»¥è§£å†³çš„é—®é¢˜ï¼Œä½ å°±è®©ç¼–è¯‘å™¨å»è§£å†³å®ƒâ€”â€”å»å¤„ç†æœ‰è¶£çš„é—®é¢˜ã€‚

ä½ ä¼šè®°å¾—`unrecognized selector sent to instance`å´©æºƒã€‚ä½ åœ¨ä¸€ä¸ªæ²¡æœ‰å“åº”çš„å¯¹è±¡ä¸Šè°ƒç”¨äº†ä¸€ä¸ªæ–¹æ³•ã€‚ç±»å‹é”™è¯¯ã€‚æˆ‘æ‰€æœ‰è™«å­çš„ä¸‰åˆ†ä¹‹ä¸€ã€‚

ä¸å‡ºæ‰€æ–™ï¼Œæˆ‘åœ¨ä½¿ç”¨ Swift åçš„ç¬¬ä¸€ååº”æ˜¯â€œè¿™æ˜¯æŸä¸ªåŒå€¦äº† Objective-C ä¸­å¯é¢„é˜²çš„è¿è¡Œæ—¶å´©æºƒçš„äººåšçš„â€ã€‚

æ–¯å¨å¤«ç‰¹å¾ˆå®‰å…¨ã€‚ç¼–è¯‘å™¨ä¸ä¼šè®©ä½ æŠŠä¸€ä¸ª`Int`ä¼ é€’ç»™ä¸€ä¸ªéœ€è¦`String`çš„å‡½æ•°ã€‚äº‹å®ä¸Šï¼Œå¦‚æœç¼–è¯‘å™¨ä¸èƒ½æ¨æ–­ç±»å‹ï¼Œä½ å¿…é¡»æ˜¾å¼åœ°è®¾ç½®å®ƒã€‚

ä½†æ˜¯ JavaScript ç¼ºä¹è¿™äº›é˜²æ­¢ç¨‹åºå‘˜é”™è¯¯çš„å®‰å…¨æªæ–½ï¼Œä½¿å¾—*å¯é¢„é˜²çš„*è¿è¡Œæ—¶å´©æºƒå’Œ*å¯é¢„é˜²çš„*ç¨‹åºå‘˜é”™è¯¯æˆä¸ºä½ *ä¾‹ç¨‹*çš„ä¸€éƒ¨åˆ†ã€‚

#### ç±»å‹é”™è¯¯

è¯¥è¯­è¨€ä¸å¼ºåˆ¶å‡½æ•°ä½¿ç”¨å˜é‡å’Œå‚æ•°çš„ç±»å‹:

ä»»ä½•å˜é‡åœ¨ä»»ä½•æ—¶å€™éƒ½å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿:

```
var j = null

var j = function foo() {
  return j
}

var j = 23

var j = 'hello'

console.log(j) //hello 
```

JavaScript è®©ä½ ç›¸ä¿¡å®ƒæœ‰ä¸€äº›ç±»å‹å’Œç±»çš„æ¦‚å¿µï¼Œæ¯”å¦‚`class`ã€`typeof`å’Œ`instanceof`:

```
class Person {
  //nobody is immortal:
  isImmortal() {
    return false
  }
}

var p = new Person()

console.log(typeof p) //object
console.log(p instanceof Person) //true

console.log(p.isImmortal()) //false

p.isImmortal = function() {return true}

console.log(p.isImmortal()) // true
console.log(p instanceof Person) //true 
```

è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°ä»¥ä¸‹å†…å®¹:

*   JavaScript çš„â€œç±»â€ã€â€œç±»å‹â€å’Œâ€œå®ä¾‹â€çš„æ¦‚å¿µä¸å¤§å¤šæ•°ç¼–ç¨‹ä¸–ç•Œå®Œå…¨ä¸åŒã€‚
*   ç±»å‹åœ¨ JavaScript ä¸­æ²¡æœ‰ä»»ä½•ç”¨å¤„ï¼Œå› ä¸ºå¤ªå®¹æ˜“*ä¸å¯é åœ°*å®šä¹‰ä¸€ä¸ªç±»å‹ã€‚

è¿˜è®°å¾—é‚£äº›`unrecognized selector sent to instance`æ’è½¦äº‹æ•…å—ï¼Ÿä»¥ä¸ºä»–ä»¬ä¸å†æ˜¯ä½ ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Ÿä»¥ä¸‹æ˜¯ä»–ä»¬åœ¨ React Native ä¸­çš„åŒ–èº«:

![this.foo is not a function](img/15fc805aa6a6eda47aa5c7d39c5ee399.png)

#### ç¼ºå°‘é€‰é¡¹

Objective-C ä»£ç (ä»¥åŠè®¸å¤šå…¶ä»–æ›´è€çš„ç¼–ç¨‹è¯­è¨€)ä¸­çš„å¤§é‡é”™è¯¯æ˜¯ç”±äºç¨‹åºå‘˜ä¸å°å¿ƒè°ƒç”¨äº†å¯¹è±¡ä¸Šçš„æ–¹æ³•`nil`ã€‚

åœ¨ React Native å’Œ JavaScript çš„ä¸–ç•Œä¸­ï¼Œè¿™ç§é”™è¯¯å¾ˆå¸¸è§:

![screenshot showing null is not an object error](img/8d4cbd71a1ff647de7d7c8132750b129.png)

å’Œå®è·µä¸Šéƒ½æ˜¯å¯ä»¥é¢„é˜²çš„ã€‚

Swift é€šè¿‡å®ç°å¯é€‰æ€§è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ‚¨çŸ¥é“ä¸€ä¸ªå¯¹è±¡å¯èƒ½æ˜¯`nil`ï¼Œé‚£ä¹ˆå®ƒä¼šå¼ºåˆ¶æ‚¨è¿›è¡Œå¿…éœ€çš„`nil`æ£€æŸ¥ã€‚

#### ç¼ºå°‘å‡½æ•°ç­¾å

åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°æ²¡æœ‰è¿”å›ç±»å‹ï¼Œä½ ä¸çŸ¥é“å‡½æ•°å¯ä»¥è¿”å›ä»€ä¹ˆï¼Œæˆ–è€…å®ƒæ˜¯å¦è¿”å›ä»»ä½•ä¸œè¥¿ã€‚

```
var foo = 'im a number'

function divideByFour(number) {
  return number / 4
}

console.log(divideByFour(foo)) //NaN 
```

è®©æˆ‘ä»¬å˜å¾—æ›´æœ‰è¶£ã€‚åœ¨ JavaScript ä¸­ï¼Œä»»ä½•è¡¨è¾¾å¼éƒ½å¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¢«ä»»ä½•å‡½æ•°æ±‚å€¼ã€‚è€ƒè™‘è¿™ä¸ªä¾‹å­ï¼Œä½¿ç”¨ JavaScript æ ‡å‡†åº“ä¸­çš„ä¸¤ä¸ªå‡½æ•°ï¼›`map`ï¼Œæ®è¯´ç›¸å½“äº Swift çš„`map`ï¼Œä»¥åŠ`parseInt`ï¼Œå®ƒå°†ä¸€ä¸ªå­—ç¬¦ä¸²è§£ææˆä¸€ä¸ªæ•´æ•°ã€‚

```
var foo = ["1", "2", "3"].map(parseInt)

console.log(foo) //[1, NaN, NaN] 
```

è¿™ä¸ªæ··ä¹±çš„ç»“æœæ˜¯ç”±äº`parseInt`æ¥å—ä¸¤ä¸ªå‚æ•°`(val, radix)`ï¼Œä½†æ˜¯`map`ä¼ é€’ç»™å®ƒä¸‰ä¸ªå‚æ•°`(currentValue, index, array)`ã€‚ä»ç„¶å®Œå…¨åˆæ³•çš„ JavaScript(ä¸€äº›äººè®¤ä¸ºå‡½æ•°å¼ç¼–ç¨‹å¯è¡Œçš„è¯­è¨€)ã€‚

#### ä¸å˜

JavaScript å¯¹ä¸å˜æ€§çš„æ”¯æŒå¾ˆå·®ã€‚

æœ‰ä¸€ä¸ª`const`æ“ä½œç¬¦ï¼Œå®ƒæœ‰åŠ©äºç¡®ä¿åŸè¯­ä¸ä¼šå‘ç”Ÿå˜å¼‚ã€‚ä½†æ˜¯ä»»ä½•ä¸æ˜¯åŸå§‹çš„ä¸œè¥¿éƒ½åƒæœå†»ä¸€æ ·å…·æœ‰å¯å¡‘æ€§:

```
const array = [3, 6]
array[32] = 9
console.log(array) // [3, 6, 32: 9]

const foo = function() {
  this.number = 42
}
const bar = foo
bar.number = 999
console.log(foo.number) // 999 
```

ç‹¬ä¸€æ— äºŒçš„å‰¯æœ¬ï¼Ÿæ²¡æœ‰ã€‚ä»»ä½•ç‹¬ç‰¹çš„å¯¹è±¡éƒ½å¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¢«åº”ç”¨ç¨‹åºçš„ä»»ä½•éƒ¨åˆ†ä¿®æ”¹ã€‚ç¥å¤šçº¿ç¨‹å¥½è¿ã€‚çš„ç¡®ï¼Œ

> è®©åº”ç”¨ç¨‹åºå¼€å‘å˜å¾—å›°éš¾çš„å¤§éƒ¨åˆ†åŸå› æ˜¯è·Ÿè¸ªå˜å¼‚å’Œç»´æŠ¤çŠ¶æ€ã€‚

è„¸ä¹¦åœ¨ Immutable.js(ä¸€ä¸ªæ—¨åœ¨ä¸º JavaScript å¸¦æ¥ä¸å¯å˜æ•°æ®ç»“æ„çš„æ¡†æ¶)çš„æ–‡æ¡£ä¸­è¯´ã€‚)

ä½†æ˜¯ä¸‹é¢æ˜¯å¦‚ä½•åœ¨ React ä¸­å®ç°ä¸å˜æ€§ã€‚

![](img/a699a5d1f9e661940fcd7cf4d4328ad2.png)

ä½ ç¤¼è²Œåœ°è¦æ±‚å¼€å‘äººå‘˜ä¸è¦æ”¹å˜çŠ¶æ€ã€‚æ˜¯çš„ï¼Œè¿™æ˜¯ React æ–‡æ¡£ä¸­çš„ä¸€ä¸ªæˆªå›¾ã€‚

#### ä½ ä¸èƒ½ä¿¡ä»»æ•°ç»„

ä½ è®¤ä¸ºæ•°ç»„æ˜¯â€œç›¸ä¼¼å¯¹è±¡çš„ç³»ç»Ÿæ’åˆ—ï¼Œé€šå¸¸æˆè¡Œæˆåˆ—â€ï¼Ÿå†æƒ³æƒ³ã€‚

```
var array = [0,1,2]

array["hello"] = "watsup"

array[6] = 999

for (var index in array) {
  console.log(array[index]) //0,1,2,999,watsup
}

for (var index of array) {
  console.log(index) //0,1,2,undefined,999
}

array.forEach(function(value, key, array) {
  console.log(value) //0,1,2,999
})

console.log(array[5]) //undefined 
```

JavaScript æ•°ç»„ä¸æ™®é€šçš„ JavaScript å¯¹è±¡æœ‰æ›´å¤šçš„å…±åŒç‚¹ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æ‰€è¯´çš„æ•°ç»„ã€‚å®ƒä»¬ç¼ºä¹ç²¾ç¡®çš„é¡ºåºæ€§å’Œå¯å˜æ€§ï¼Œè¿™å¹¶ä¸èƒ½ä½¿å®ƒä»¬è¡¨ç°è‰¯å¥½ã€‚

#### é”™è¯¯å¤„ç†èƒ½åŠ›å·®

åœ¨ JavaScript ä¸­ï¼Œæ‚¨å¯ä»¥è®© *any* å‡½æ•°åœ¨æ²¡æœ‰è­¦å‘Šçš„æƒ…å†µä¸‹æŠ›å‡ºè¿è¡Œæ—¶é”™è¯¯æˆ–å¼‚å¸¸ã€‚

```
function tenDividedBy(number) {
  if (number == 0) {
    throw "can't divide by zero"
  }
  return 10 / number
}

console.log(tenDividedBy(0)) 
```

ä½ å¯ä»¥ç ´ä¾‹æ‰”*ä»»ä½•ä½ æƒ³è¦çš„*ï¼›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸€ä¸ª`Date`ï¼Œä¸€ä¸ªå‡½æ•°ç­‰ã€‚æ²¡æœ‰ä¸€ç§æœºåˆ¶å¯ä»¥è®©ä½ å°†ä¸€ä¸ªå‡½æ•°æ ‡è®°ä¸ºå¯èƒ½ç ´åä½ çš„é˜Ÿå‹çš„ä»£ç ï¼Œæˆ–è€…æŒ‡å®šå¦‚ä½•å¤„ç†ä¸€ä¸ªå¼‚å¸¸ã€‚ä½¿ç”¨`if`è¯­å¥ä»£æ›¿ï¼Œæ¯”å¦‚æ–‡æ¡£:

> æœ€å¥½å°†å¼‚å¸¸ä½œä¸ºæœ€åä¸€é“é˜²çº¿ï¼Œç”¨äºå¤„ç†æ‚¨æ— æ³•é¢„æ–™çš„å¼‚å¸¸é”™è¯¯ï¼Œå¹¶ä½¿ç”¨æ§åˆ¶æµè¯­å¥ç®¡ç†é¢„æœŸçš„é”™è¯¯ã€‚

#### ä¸æ”¯æŒå°æ•°

é‰´äºå¤§å¤šæ•°åè¿›åˆ¶åˆ†æ•°æ— æ³•åœ¨ç¡¬ä»¶ä¸­å‡†ç¡®è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶åˆ†æ•°ï¼Œè®¸å¤šç¼–ç¨‹è¯­è¨€(åŒ…æ‹¬ JavaScript å’Œ Swift)é€šå¸¸ä¼šäº§ç”Ÿæ•°å­¦ä¸Šä¸æ­£ç¡®çš„åè¿›åˆ¶ç®—æœ¯:

```
console.log(0.1 + 0.2) //0.30000000000000004
console.log(0.1 + 0.2 === 0.3) //false 
```

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå…¶ä»–è¯­è¨€çš„æ ‡å‡†åº“é€šå¸¸æ”¯æŒåè¿›åˆ¶åˆ†æ•°(ä¾‹å¦‚ï¼Œåœ¨ Swift ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`Decimal`)ã€‚åœ¨ JavaScript ä¸­ï¼Œä½ å¿…é¡»æ±‚åŠ©äºä½¿ç”¨ç¬¬ä¸‰æ–¹åº“â€”â€”æˆ–è€…è‡ªå·±å†™ã€‚

#### ä¸å¯é çš„æ•°å­¦

è®°å¾—å°å­¦ç®—æœ¯ä¹Ÿè¦å°å¿ƒã€‚JavaScript ä¸`0`å’Œéæ•°å­—çš„äº‹ç‰©æœ‰ç€å¤æ‚çš„å…³ç³»ã€‚

```
var a = 0
var b = -0

console.log(a === b) // true

console.log(1/a === 1/b) // false

var x = Math.sqrt(-2)

console.log(x === NaN) //false

console.log(isNaN(x)) //true

console.log(isNaN('i like pumpkins')) //true 
```

#### ä¸å®‰å…¨åˆå§‹åŒ–

JavaScript å…è®¸å¯¹è±¡åœ¨åˆ›å»ºåå°±å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ï¼Œå› ä¸ºå®ƒä»¬çš„å±æ€§ä¸éœ€è¦åˆå§‹åŒ–ã€‚

```
class Rectangle {
  constructor (width, height) {
    this.width = width
    this.height = height
  }
  area () {
    return width * height
  }
}

class Square extends Rectangle {
  constructor(){
    super()
  }
}

var myRect = new Square()

console.log(myRect.area()) // ReferenceError: width is not defined 
```

#### ä¸€ä¸ª`if`åçš„å¯é€‰èŠ±æ‹¬å·

`if`è¯­å¥åçš„èŠ±æ‹¬å·æ˜¯å¯é€‰çš„:

```
if (1 > 2)
  console.log("ha"); console.log("he")
  console.log("hi")
  console.log("ho")

/*prints:
  he
  hi
  ho
  */ 
```

ä¸ºæ‚¨çš„æ§åˆ¶æµè¯­å¥æ·»åŠ å†’é™©çš„å‘³é“ã€‚

#### æ¨¡ç³Šçš„èŠ±æ‹¬å·

é™¤éå¯ä»¥éå¸¸å‡†ç¡®åœ°æ¨æ–­å‡ºç¨‹åºå‘˜çš„æ„å›¾ï¼Œå¦åˆ™è¯­è¨€ä¸åº”è¯¥è®©èŠ±æ‹¬å·æ˜¯å¯é€‰çš„ã€‚

```
function foo() {
  return
  {
    {a: 4}
  }
}

console.log(foo()) //undefined 
```

#### å¼€å…³æ•…éšœ

å¦‚æœä½ å¿˜è®°åœ¨ä¸€ä¸ª`switch`è¯­å¥çš„å­å¥ä¸­åŒ…å«ä¸€ä¸ª`break`è¯­å¥ï¼Œä½ å°±å¤±è´¥äº†ã€‚æ­¤å¤–ï¼Œ`switch`è¯­å¥ä¸ä¼šå¯¹äº‹ä¾‹ç©·ä¸¾è¿›è¡Œæ£€æŸ¥ã€‚

```
var j = 32

switch (j) {
   case 32:
    console.log('spot on')
   case 0:
    console.log('zero')
}

/* prints:

  spot on
  zero
*/ 
```

#### ä»€ä¹ˆæ²¡ä»€ä¹ˆï¼Ÿ

```
var foo;
foo === null; //false
foo === undefined; //true 
```

æ˜¯çš„ï¼Œä¸æ˜¯`null`çš„ä¸œè¥¿å®é™…ä¸Šå¯èƒ½ä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŒºåˆ«ã€‚

å¦‚æœä½ æƒ³çŸ¥é“ä¸€ä¸ªå˜é‡æ˜¯å¦åŒ…å«ä»»ä½•æ•°æ®å‘¢ï¼Ÿå¥½å§ï¼Œä¸ºäº†ä½¿æ‚¨çš„æ£€æŸ¥è¯¦å°½ï¼Œæ‚¨éœ€è¦æ£€æŸ¥`null`å’Œ`undefined`:

```
if (foo !== null && foo !== undefined) {
  shootMyself()
} 
```

#### è¡¨ç°åŠ›å·®

*   æ²¡æœ‰æšä¸¾ã€‚æ›´ä¸ç”¨è¯´å…·æœ‰å…³è”ç±»å‹çš„æšä¸¾äº†ã€‚å¥½è¿å¯é åœ°ä»£è¡¨å›½å®¶ã€‚
*   æ²¡æœ‰`guard`å£°æ˜ã€‚
*   æ²¡æœ‰ä»¿åˆ¶è¯ã€‚
*   æ²¡æœ‰`where`è¯­å¥æ¥å¢åŠ æ§åˆ¶æµè¯­å¥çš„è¡¨è¾¾èƒ½åŠ›ã€‚

#### æå…¶ç¼“æ…¢çš„è¿›åŒ–

è¯·çœ‹ï¼ŒES2016 ä¸º JavaScript å¸¦æ¥äº†è¿™äº›æ–°ç‰¹æ€§:

1.  æ•°ç»„çš„`includes`æ–¹æ³•ã€‚

å®ƒæ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«æŒ‡å®šçš„å€¼ã€‚ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒ:

```
var array = [1, 2, {"hello": 32}]

console.log(array.includes({"hello": 32})) // false

var foo = 32

var bar = foo

var otherArray = [bar, 23]

console.log(otherArray.includes(foo)) // true 
```

å°½é‡ä¸è¦ã€‚

2.  ****** æ“ä½œå‘˜

ç”¨äºæ±‚å¹‚è¿ç®—ã€‚`a ** b`æ˜¯`Math.pow(x, y)`çš„ç®€ç§°ã€‚

è€ƒè™‘ä¸€ä¸‹:Python çš„`**`æ“ä½œç¬¦åœ¨ Python 1 ä¸­ã€‚Ruby çš„`**`æ“ä½œç¬¦åœ¨ Ruby å·²ç» 20 å¤šå¹´äº†ã€‚

å› æ­¤ï¼ŒJavaScript èŠ±äº† 20 å¹´æ—¶é—´æ·»åŠ ä¸€ä¸ªåŸºæœ¬çš„ç®—æœ¯è¿ç®—ç¬¦å’Œä¸€ä¸ªéå¸¸æœ‰é™çš„æ•°ç»„æˆå‘˜æ£€æŸ¥æ–¹æ³•ï¼Œè¿™æ˜¯ä¸€å¹´çš„æ”¹è¿›ã€‚

#### æµå‘æ•‘æ´ï¼

â€œå¿ƒæµâ€æ˜¯è„¸ä¹¦å¯¹ä¸Šè¿°è®¸å¤šä¸æ»¡çš„å›ç­”ã€‚è¿™æ˜¯ä¸€ä¸ª JavaScript çš„é™æ€ç±»å‹æ£€æŸ¥å™¨ï¼Œèƒ½å¤Ÿæ¨æ–­å’Œè·Ÿè¸ªä»£ç ä¸­å˜é‡çš„ç±»å‹ï¼Œå¹¶æé†’ä½ å³å°†åˆ°æ¥çš„å„è¿ã€‚

å›æƒ³ä¸€ä¸‹æˆ‘ä¸Šé¢çš„ä¾‹å­ï¼Œå®ƒæ˜¯å…³äº JavaScript ä¸­ç¼ºå°‘å‡½æ•°ç­¾åè€Œäº§ç”Ÿçš„é—®é¢˜(`divideByFour`å‡½æ•°æœŸæœ›ä¸€ä¸ªæ•°å­—ï¼Œä½†å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²)ã€‚ä»¥ä¸‹æ˜¯â€œå¿ƒæµâ€å°†å¦‚ä½•å¤„ç†å®ƒ:

```
// @flow
var foo = 'im a number'

function divideByFour(number) {
  return number / 4
}

console.log(divideByFour(foo))

/* console output:

fooman.js:8
  8: console.log(divideByFour(foo))
                 ^^^^^^^^^^^^^^^^^ function call
  5:   return number / 4
              ^^^^^^ string. This type is incompatible with
  5:   return number / 4
              ^^^^^^^^^^ number

Found 1 error
*/ 
```

è¿™ä¿®å¤äº†è®¸å¤šç”±äº JavaScript ç¼ºä¹å¯æ‰§è¡Œçš„å‡½æ•°ç­¾åè€Œå‡ºç°çš„é—®é¢˜ã€‚

å®ƒè¿˜å¯ä»¥ç”Ÿæˆç­‰æ•ˆçš„æ³›å‹æ•°ç»„:

```
// @flow
class J {
}

var b = function() {
  return 2
}

var array = [1, new J(), b]

function giveMeAnArrayOfNumbers(numbers: Array<number>) {}

giveMeAnArrayOfNumbers(array)

/* console output:

fooman.js:13
 13: giveMeAnArrayOfNumbers(array)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ function call
  9: var array = [1, new J(), b]
                         ^ J. This type is incompatible with
 11: function giveMeAnArrayOfNumbers(numbers: Array<number>) {}
                                                    ^^^^^^ number

fooman.js:13
 13: giveMeAnArrayOfNumbers(array)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ function call
  9: var array = [1, new J(), b]
                              ^ function. This type is incompatible with
 11: function giveMeAnArrayOfNumbers(numbers: Array<number>) {}
                                                    ^^^^^^ number
Found 2 errors

*/ 
```

Flow å¾ˆå¥½åœ°å¤„ç†äº†å¯ç©ºæ€§ï¼Œå¦‚æœæ‚¨é¢„æœŸä¸æ˜¯`null`çš„å€¼å¯èƒ½æ˜¯`null`ï¼Œå®ƒä¼šè­¦å‘Šæ‚¨:

```
// @flow
var j = null

function greet(name) {
  console.log("hello " + name)
}

greet(j)

/* console output:
fooman.js:6
  6:   console.log("hello " + name)
                              ^^^^ null. This type cannot be added to
  6:   console.log("hello " + name)
                   ^^^^^^^^^^^^^^^ string

Found 1 error
*/ 
```

å¦‚æœ`j`åº”è¯¥æ˜¯ä¸€ä¸ª`string`ï¼Œä½†æ˜¯åœ¨ä»»ä½•æ—¶é—´ç‚¹éƒ½å¯èƒ½æ˜¯`null`ï¼Œæµç¨‹é¼“åŠ±æˆ‘ä»¬ç›¸åº”åœ°å¯¹å…¶è¿›è¡Œæ³¨é‡Šã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å°†å®ƒæä¾›ç»™ä»»ä½•éœ€è¦å®ƒæˆä¸ºéç©ºå€¼çš„ä¸œè¥¿ä¹‹å‰ä¸æ‰§è¡Œç©ºå€¼æ£€æŸ¥ï¼Œå®ƒå°±ä¼šæŠ±æ€¨:

```
// @flow

var j: ?string = null

function greet(name: string) {
  console.log("hello " + name)
}

if (j != null) {
  greet(j)
}
/* console output:
No errors!
*/ 
```

Flow çš„ç‰¹æ€§ç§¯æåœ°è¶…è¶Šäº†ç±»å‹æ£€æŸ¥å’Œæ³¨é‡Šï¼Œå¹¶å¢åŠ äº†å¯¹æ–°æ„é€ çš„æ”¯æŒã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯æ–‡å­—ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æ„å»ºï¼Œä¾‹å¦‚æšä¸¾ã€‚

```
// @flow
type CompassPoint =
  | "North"
  | "South";

class Compass {
  direction: CompassPoint;
  degrees: number

  constructor(degrees: number) {
    this.degrees = degrees
  }
  direction(): CompassPoint {
    if (this.degrees > 270 || this.degrees < 90) {
      return "North"
    }
    else {
      return "South"
    }
  }
} 
```

å¦‚æœ`direction`è¿”å›ä»»ä½•ä¸æ˜¯`"North"`æˆ–`"South"`çš„ä¸œè¥¿ï¼ŒFlow å°±ä¼šæŠ±æ€¨ã€‚

æˆ‘å‘ç°çš„å¦ä¸€ä¸ªæœ‰ç”¨çš„æ„é€ æ˜¯è”åˆç±»å‹ï¼Œå®ƒå°†ä¸€ä¸ªå€¼çº¦æŸä¸ºä¸€ç»„é¢„å®šä¹‰çš„ç±»å‹ä¸­çš„ä¸€ä¸ªä¸”ä»…ä¸€ä¸ªã€‚ä»¥ä¸‹æ˜¯æµæ–‡æ¡£ä¸­çš„ä¸€ä¸ªç¤ºä¾‹:

```
// @flow
type U = number | string;
var x: U = 1;
x = "two"; 
```

Flow æ˜¯ React Native çš„å¥½æœ‹å‹ï¼Œåªè¦ä½ å¸®å®ƒå¸®ä½ ã€‚æµæ–‡æ¡£æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œè¯´æ˜å½“æ‚¨æ­£ç¡®åœ°æ³¨é‡Šç»„ä»¶çš„`proptypes`æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ:

```
const Greeter = React.createClass({
  propTypes: {
    name: React.PropTypes.string.isRequired,
  },
  render() {
    return <p>Hello, {this.props.name}!</p>;
  },
});

<Greeter />; // Missing `name`
<Greeter name={null} />; // `name` should be a string
<Greeter name="World" />; // "Hello, World!" 
```

è¯„è®ºæŒ‡å‡ºäº†æµç¨‹è­¦å‘Šå‡ºç°çš„ä½ç½®ï¼Œå……åˆ†è°´è´£äº†ä½ æ²¡æœ‰å±¥è¡Œè‡ªå·±çš„åˆåŒã€‚

å¿ƒæµæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ã€‚ä¸‹é¢æ˜¯å®ƒçš„å‘½ä»¤è¡Œç•Œé¢è®©æ‚¨åšçš„ä¸€äº›æœ‰ç”¨çš„äº‹æƒ…çš„ä¾‹å­:

*   `suggest Shows type annotation suggestions for given files`
*   `type-at-pos Shows the type at a given file and position`
*   `get-def Gets the definition location of a variable or property`

#### å¿ƒæµå°±åƒç‰™çº¿

JavaScript ç°åœ¨ä¿®å¥½äº†å—ï¼Ÿå·ç 

å°½ç®¡å·¥ç¨‹å·¥ä½œæµå¯èƒ½ä»¤äººå°è±¡æ·±åˆ»ï¼Œä½†å®ƒä»ç„¶æ˜¯ JavaScript çš„è¶…é›†ï¼Œå› æ­¤è¿«ä½¿æ‚¨åœ¨å›ºæœ‰çš„è–„å¼±åŸºç¡€ä¸Šè¿›è¡Œæ„å»ºã€‚å°† Flow(æˆ– TypeScriptï¼Œå°±æ­¤è€Œè¨€)ä½œä¸ºå¯¹ JavaScript é”™è¯¯çš„ä»»ä½•ä¸€ç§è¡¥æ•‘æªæ–½è®©æˆ‘æƒ³èµ·äº†ã€Šæ²¼æ³½åŸå ¡å’Œå®ƒçš„å›½ç‹ã€‹(å‡ºè‡ªã€Šå·¨èŸ’å’Œåœ£æ¯ã€‹):

![](img/ca73f197083b8f80df5f0f9bc767de05.png)

> å½“æˆ‘ç¬¬ä¸€æ¬¡æ¥è¿™é‡Œæ—¶ï¼Œè¿™é‡Œå…¨æ˜¯æ²¼æ³½ã€‚æ¯ä¸ªäººéƒ½è¯´æˆ‘åœ¨æ²¼æ³½ä¸Šå»ºåŸå ¡æ˜¯æ„šè ¢çš„ï¼Œä½†æˆ‘è¿˜æ˜¯å»ºäº†èµ·æ¥ï¼Œåªæ˜¯ä¸ºäº†ç»™ä»–ä»¬çœ‹çœ‹ã€‚å®ƒé™·å…¥äº†æ²¼æ³½ã€‚æ‰€ä»¥æˆ‘é€ äº†ç¬¬äºŒä¸ªã€‚æ²‰å…¥æ²¼æ³½ã€‚æ‰€ä»¥æˆ‘é€ äº†ç¬¬ä¸‰ä¸ªã€‚çƒ§æ¯ï¼Œå€’ä¸‹ï¼Œç„¶åæ²‰å…¥æ²¼æ³½ã€‚ä½†æ˜¯ç¬¬å››ä¸ªæ²¡ç¡ã€‚è¿™å°±æ˜¯ä½ å°†è¦å¾—åˆ°çš„ï¼Œå°ä¼™å­ï¼Œå…¨è‹±æ ¼å…°æœ€åšå›ºçš„åŸå ¡ã€‚

äº‹æƒ…å¯ä»¥å»ºç«‹åœ¨ä¸å®‰å…¨çš„åŸºç¡€ä¸Šï¼Œè¿™ä¸€äº‹å®ä¸ä¼šä½¿åŸºç¡€æ›´å®‰å…¨ï¼Œä¹Ÿä¸ä¼šä½¿è¿‡ç¨‹æ›´æœ‰æ•ˆã€‚æˆ‘ä»¬åšæŒè¿›è¡Œè¿™é¡¹å·¥ä½œï¼Œä½¿æˆ‘ä»¬çœ‹ä¸åˆ°å®ƒçš„è’è°¬æ€§ã€‚

ä¹Ÿè®¸æ›´èƒ½è¯´æ˜é—®é¢˜çš„æ˜¯ï¼ŒJavaScript è¶…é›†ã€linters æˆ–é™æ€åˆ†æå™¨å®é™…ä¸Šæ˜¯ä¸€ç§æ²»æ ‡ä¸æ²»æœ¬çš„æªæ–½ï¼Œå¯ä»¥ç¼“è§£è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³æ‚¨æ­£åœ¨å¤„ç†çš„å¹³å°ä¸èƒ½è®©æ‚¨é€‰æ‹©æ›´å®‰å…¨çš„è¯­è¨€â€”â€”å¦‚æœå¯ä»¥ï¼Œæ‚¨å°±ä¸å¿…ä½¿ç”¨å®ƒä»¬äº†ã€‚

è¿™äº›æ²»æ ‡æªæ–½è¿˜æœ‰å¦ä¸€ä¸ªæ ¹æœ¬é—®é¢˜ã€‚ä¿éšœæªæ–½ï¼Œå°±åƒæ³•å¾‹ä¸€æ ·ï¼Œå¦‚æœæ²¡æœ‰å½“å±€çš„å¼ºåˆ¶æ‰§è¡Œå’Œç¤¾ä¼šçš„å°Šé‡ï¼Œå°±æ²¡æœ‰ä»€ä¹ˆä»·å€¼ã€‚

Flow ä¸ä¼šé˜»æ­¢æ‚¨ä½¿ç”¨ä»£ç æ„å»ºå’Œè¿è¡Œ React æœ¬æœºåº”ç”¨ç¨‹åºï¼Œè¿™äº›ä»£ç ä¼šå¯¼è‡´è¿è¡Œæ—¶å´©æºƒã€‚è¿™æ˜¯ç¼–ç¨‹è¯­è¨€çš„åŸºæœ¬å®‰å…¨è¦æ±‚:å¦‚æœè¿™æ˜¯ä¸€ä¸ªå¯ä»¥é¢„é˜²çš„é”™è¯¯ï¼Œè¯­è¨€åº”è¯¥*ä¸»åŠ¨é¢„é˜²*å®ƒï¼Œå®ƒåº”è¯¥é»˜è®¤é˜»æ­¢æˆ‘ç¼–å†™å’Œè¿è¡Œä¸å®‰å…¨çš„ä»£ç *ï¼Œè€Œä¸æ˜¯äº‹åæ‰æƒ³åˆ°ã€‚*

åªæ˜¯*åº”è¯¥ä¸å¯èƒ½*è®©æˆ‘çš„é˜Ÿå‹ç¼–å†™è¿”å›å€¼ä¸æ˜ç¡®çš„å‡½æ•°ï¼Œåº”è¯¥ä¸å¯èƒ½*è®©æˆ‘è°ƒç”¨ä¸å¯¹å…¶åšå‡ºå“åº”çš„å¯¹è±¡ä¸Šçš„æ–¹æ³•*ï¼Œåº”è¯¥ä¸å¯èƒ½*è®©æŸäººä¸åœ¨ç»„ä»¶ä¸Šå®šä¹‰`proptypes`å¹¶ä¸”æˆ‘ä¸å¾—ä¸åœ¨ä»£ç å®¡æŸ¥æœŸé—´æ‰‹åŠ¨æŒ‡å‡ºåº”è¯¥å·²ç»å®šä¹‰äº†`proptypes`ã€‚*

å¿ƒæµï¼Œåƒå•å…ƒæµ‹è¯•å’Œç‰™çº¿ä¸€æ ·ï¼Œæœ‰ç€æœ‰ç›Šçš„è¯…å’’*å’Œ*å¯é€‰çš„*å’Œ*ä»¤äººåŒå€¦ã€‚è¿™æ˜¯ä½ æ˜å¹´çš„å†³å¿ƒã€‚

è¿™å°±æ˜¯ç°å®:GitHub ä¸Šæœ‰å¤šå°‘å…¬å…±çš„`.js`æ–‡ä»¶ä½¿ç”¨ flow(å³åŒ…å«`@flow`æ¥è¡¨ç¤ºå®ƒä»¬æ˜¯å¯æµæ£€æŸ¥çš„)ï¼Ÿå¤§çº¦ 8000 ä¸‡ä»½å…¬å¼€çš„`.js`æ–‡ä»¶ä¸­çš„å¤§çº¦ 140 ä¸‡ä»½ã€‚è¿™æ˜¯â€¦ä¸åˆ° 2%çš„å…¬å…±ä½¿ç”¨å·¥å…·æ¥ç¼–å†™æ›´å®‰å…¨çš„ JavaScriptã€‚

æ›´é‡è¦çš„æ˜¯ï¼Œåœ¨`awesome-react-native`çš„ 100 ä¸ª React åŸç”Ÿå­˜å‚¨åº“ä¸­ï¼Œæˆ‘æ‰¾ä¸åˆ°ä¸€ä¸ªå¯¹ Flow åŠå…¶ç±»å‹æ³¨é‡Šæœ‰ä»»ä½•é‡è¦ä½œç”¨çš„ã€‚æˆ‘ä¹Ÿæ‰¾ä¸åˆ°ä»»ä½•ä¸€ä¸ª React æœ¬åœ°æ•™ç¨‹æåˆ°(æ›´ä¸ç”¨è¯´å»ºè®®ä½ )å¿ƒæµçš„ä½¿ç”¨ã€‚

### Javascript ç”Ÿæ€ç³»ç»Ÿ:çƒå’Œé“¾

JavaScript çš„ç¼ºé™·ä¼¼ä¹ç»™æ¯ä¸ªäººéƒ½ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ï¼Œé™¤äº† JavaScript å¼€å‘äººå‘˜ï¼Œå¯¹ä»–ä»¬æ¥è¯´ï¼Œæˆ‘ä¸Šé¢æ¦‚è¿°çš„ JavaScript çš„æ–¹é¢å¹¶ä¸æ˜¯å¯æ€•çš„ç¼ºç‚¹ï¼Œå®ƒä»¬æ˜¯ä½ éœ€è¦æ³¨æ„çš„â€œæ€ªç™–â€æˆ–â€œé™·é˜±â€ï¼Œè€Œä¸æ˜¯ä½ çš„è¯­è¨€ã€‚

è¿™æ˜¯å› ä¸º JavaScript å¼€å‘è€…ä¹Ÿä¸ç›¸ä¿¡ JavaScript æ˜¯ä¸å……åˆ†çš„ã€‚

![that's just like your opinion, man](img/ad7406dacbd2b980bca9b83b560cb0a7.png)

è¯­è¨€ä¸æ”¯æŒä¸å˜æ€§ï¼Ÿè®©æˆ‘ä»¬åšä¸€ä¸ªå›¾ä¹¦é¦†ã€‚è¯­è¨€ä¸æ”¯æŒæ‰“å­—ï¼Ÿè®©æˆ‘ä»¬åšä¸€ä¸ªå›¾ä¹¦é¦†ã€‚è¯­è¨€ä¸æ”¯æŒå°æ•°ï¼Ÿè®©æˆ‘ä»¬åšä¸€ä¸ªå›¾ä¹¦é¦†ã€‚è¯­è¨€ä¸å…è®¸å®‰å…¨çš„å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿè®©æˆ‘ä»¬åšä¸€ä¸ªå›¾ä¹¦é¦†ã€‚è¯­è¨€ä¸æ”¯æŒå¯ç©ºæ€§ï¼Ÿè®©æˆ‘ä»¬åšä¸€ä¸ªå›¾ä¹¦é¦†ã€‚

æˆ–è€…â€¦â€¦å‡è®¾ä½ æ‰¿è®¤è¿™äº›ç‰¹æ€§éå¸¸é‡è¦ï¼Œä½ å¯ä»¥â€¦â€¦ç›´æ¥åˆ‡æ¢åˆ°æ”¯æŒå®ƒä»¬çš„è¯­è¨€ï¼Ÿ(æˆ‘ä¸çŸ¥é“ï¼Œæˆ‘åªæ˜¯éšä¾¿è¯´è¯´ã€‚)

åœ¨æˆ‘çœ‹æ¥ï¼Œäººä»¬æ™®éé¡½å›ºåœ°æ‹’ç»å°† JavaScript è§†ä¸ºå¤©ç”Ÿçš„ç¼ºé™·ï¼Œå› æ­¤éœ€è¦ç”¨*æ›¿ä»£*ï¼Œè€Œä¸æ˜¯ç”¨*æ‰“ç£¨*ã€‚ç”±æ­¤äº§ç”Ÿçš„ç§»æ¤ç‰©å’Œæ‹æ–çš„æ‰©æ•£è¢«è§†ä¸ºå……æ»¡æ´»åŠ›çš„ç”Ÿæ€ç³»ç»Ÿçš„è¿¹è±¡ï¼Œè€Œå®ƒçœŸæ­£è¡¨æ˜çš„æ˜¯è¯­è¨€ç¼ºä¹åŸºæœ¬çš„é‡è¦åŠŸèƒ½ã€‚

è¿™å¹…æ¼«ç”»å¾ˆå¥½åœ°è¯´æ˜äº†è¿™ç§æƒ…å†µ:

![](img/56109f6762a06807e116bf2b8bc43db6.png)

â€œå…äºæŒ–æ˜â€å°±æ˜¯é€‰æ‹©ä¸€ç§å¯¹ä½ éœ€è¦çš„ä¸œè¥¿æœ‰å†…ç½®æ”¯æŒçš„è¯­è¨€ã€‚è¿™ç§æŒ–æ˜ä¸æ˜¯å¾ˆå¥½çš„åˆ©ç”¨èƒ½æºã€‚JavaScript å¤©ç”Ÿä¸åˆ©äºå¥½çš„è½¯ä»¶å·¥ç¨‹ï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› :å®ƒè¿«ä½¿ä½ å¼€å‘å’Œä¾èµ–å…¶ä»–è¯­è¨€é»˜è®¤æä¾›çš„ä¸œè¥¿ã€‚

#### é“¾å­

JavaScript æœ‰æ›´é‡è¦çš„äº‹æƒ…è¦åšã€‚è¿™æ˜¯ä¸€ç§éœ€è¦è¿åˆæ•°åäº¿äº’è”ç½‘ç”¨æˆ·éœ€æ±‚çš„è¯­è¨€ï¼Œè¿™äº›ç”¨æˆ·å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šæ›´æ–°ä»–ä»¬çš„æµè§ˆå™¨æˆ–ç½‘ç«™ã€‚è¿™é˜»ç¢äº†è¯­è¨€çš„å‘å±•ã€‚

è¿˜è®°å¾—`typeof(null) === 'object'`å—ï¼Ÿå—¯ï¼Œæœ‰äººæè®®å°†`null`æ”¹ä¸º`null`ã€‚ä½†æ˜¯

> ç»“æœå‘ç°å®ƒæ‰“ç ´äº†å¾ˆå¤šç°æœ‰çš„ç½‘ç«™ã€‚ä»ä¸€ä¸ª JavaScript çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯ä¸å¯è¡Œçš„ã€‚

è¿™ä¸ªæè®®è¢«å¦å†³äº†ã€‚æˆªæ­¢åˆ° ES06ï¼Œ`null`è¿˜æ˜¯`object`ã€‚

JavaScript çš„å‘å±•è¿åˆäº†ä»¥ä¸‹éœ€æ±‚:

*   æ•°ç™¾ä¸‡ä¸åŒçš„è¿‡æ—¶æµè§ˆå™¨ç”¨æˆ·
*   ä¸€ç»„ä¸åŒçš„æµè§ˆå™¨ä¾›åº”å•†
*   æ•°åäº¿ä¸ªç½‘ç«™åŠå…¶å„è‡ªçš„å¼€å‘è€…

éå¸¸æ°‘ä¸»ã€‚ä½†å¦ä¸€æ–¹é¢ï¼Œå®ƒä¼šæ¯”å…¶ä»–è¯­è¨€æ…¢å¾—å¤šï¼Œè€Œä¸”å®ƒå¯èƒ½ä¸ä¼šåƒå¯ç§»æ¤æ€§é‚£æ ·ä¼˜å…ˆè€ƒè™‘å¼€å‘äººå‘˜çš„äººä½“å·¥ç¨‹å­¦ã€‚

#### æ›´å®½çš„è§’åº¦

ä»å†å²çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œçœ‹åˆ°çš„æ¨¡å¼ï¼Œä¸€ç§çœ‹ä¼¼æœ‰ç¼ºé™·çš„è¯­è¨€å˜å¾—æµè¡Œï¼Œå¹¶è¢«å®ƒæƒ³è¦æ¥ç®¡çš„å¹³å°çš„ç°ä»»è€…æ‰€å¦å®šï¼Œè¿™æ˜¯ä»¤äººç—›è‹¦å’Œç†Ÿæ‚‰çš„ã€‚

è¿‡æ¥ååœ¨ç«è¾¹ï¼Œæˆ‘ç»™ä½ è®²ä¸ªæ•…äº‹ã€‚

æ—©åœ¨ 1994 å¹´ï¼Œç†æŸ¥å¾·Â·æ–¯æ‰˜å°”æ›¼å°±ç»™æ–°é—»ç»„å†™äº†ä¸€ç¯‡æ¯«ä¸å«ç³Šçš„é¢˜ä¸ºâ€œä¸ºä»€ä¹ˆä½ ä¸åº”è¯¥ä½¿ç”¨ Tclâ€çš„æ–‡ç« ã€‚Stallman å¯¹ Tcl ä½œä¸ºä¸€ç§ç¼–ç¨‹è¯­è¨€çš„ç¼ºç‚¹æ¯«ä¸ç•™æƒ…ï¼Œå¹¶è°´è´£ä»–æ‰€çœ‹åˆ°çš„ Tcl ä¸ç¬¦åˆç›®çš„ã€‚è¿™ä¸æˆ‘è‡ªå·±å¯¹ JavaScript çš„ä¸æ»¡éå¸¸ç›¸ä¼¼:

> Emacs çš„ä¸»è¦ç»éªŒæ˜¯ï¼Œç”¨äºæ‰©å±•çš„è¯­è¨€ä¸åº”è¯¥ä»…ä»…æ˜¯â€œæ‰©å±•è¯­è¨€â€ã€‚å®ƒåº”è¯¥æ˜¯ä¸€ç§çœŸæ­£çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸ºç¼–å†™å’Œç»´æŠ¤å¤§é‡ç¨‹åºè€Œè®¾è®¡ã€‚å› ä¸ºäººä»¬ä¼šæƒ³è¿™ä¹ˆåšï¼[â€¦â€¦]Tcl å¹¶æ²¡æœ‰è¢«è®¾è®¡æˆä¸€ç§ä¸¥è‚ƒçš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒè¢«è®¾è®¡æˆä¸€ç§â€œè„šæœ¬è¯­è¨€â€ï¼Œå‡è®¾â€œè„šæœ¬è¯­è¨€â€ä¸éœ€è¦è¯•å›¾æˆä¸ºä¸€ç§çœŸæ­£çš„ç¼–ç¨‹è¯­è¨€ã€‚æ‰€ä»¥ Tcl æ²¡æœ‰ä¸€ä¸ªçš„èƒ½åŠ›ã€‚å®ƒç¼ºå°‘æ•°ç»„ï¼›å®ƒç¼ºå°‘å¯ä»¥ç”¨æ¥åˆ›å»ºé“¾è¡¨çš„ç»“æ„ã€‚å®ƒå‡è£…æœ‰æ•°å­—ï¼Œè¿™å¾ˆæœ‰æ•ˆï¼Œä½†å¿…é¡»å¾ˆæ…¢ã€‚Tcl å†™å°ç¨‹åºè¿˜å¯ä»¥ï¼Œä½†æ˜¯ä½ æŠŠå®ƒæ¨åˆ°é‚£ä»¥å¤–ï¼Œå°±æ˜¾å¾—ä¸å¤Ÿç”¨äº†ã€‚

ä»–çš„æ–‡ç« æœ‰æ•ˆåœ°å¼•å‘äº† 1994 å¹´çš„ Tcl å¤§æˆ˜ã€‚åœ¨ä»–æ”¶åˆ°çš„æ‰€æœ‰å›å¤ä¸­ï¼Œæˆ‘è§‰å¾—çº¦ç¿°Â·å¥¥æ–¯ç‰¹èƒ¡ç‰¹(Tcl çš„åˆ›å§‹äºº)çš„å›å¤æœ€ä»¤äººå°è±¡æ·±åˆ»:

> è¯­è¨€è®¾è®¡è€…å–œæ¬¢äº‰è®ºä¸ºä»€ä¹ˆè¿™ç§è¯­è¨€æˆ–é‚£ç§è¯­è¨€*å¿…ç„¶æ˜¯å…ˆéªŒçš„æ›´å¥½æˆ–æ›´å·®ï¼Œä½†æ˜¯è¿™äº›äº‰è®ºéƒ½ä¸æ˜¯å¾ˆé‡è¦ã€‚æœ€ç»ˆï¼Œå½“ç”¨æˆ·ç”¨è„šæŠ•ç¥¨æ—¶ï¼Œæ‰€æœ‰çš„è¯­è¨€é—®é¢˜éƒ½è§£å†³äº†ã€‚å¦‚æœ Tcl è®©äººä»¬æ›´æœ‰ç”Ÿäº§åŠ›ï¼Œé‚£ä¹ˆä»–ä»¬ä¼šä½¿ç”¨å®ƒï¼›å½“å¦ä¸€ç§æ›´å¥½çš„è¯­è¨€å‡ºç°æ—¶(æˆ–è€…å¦‚æœå®ƒå·²ç»å‡ºç°äº†)ï¼Œäººä»¬å°±ä¼šè½¬å‘é‚£ç§è¯­è¨€ã€‚è¿™æ˜¯æ³•å¾‹ï¼Œè¿™æ˜¯å¥½çš„ã€‚*

å¥¥æ–¯ç‰¹èƒ¡ç‰¹çš„åå‡»æ‰“å‡»äº†æˆ‘ä¸€ç›´æ´»è·ƒçš„è®¸å¤šæˆ˜çº¿ï¼Œæ‰€ä»¥ä»–çš„ç«ç‚®å€¼å¾—ä»”ç»†çœ‹çœ‹ã€‚

(æœ‰äº›è¯»è€…å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œå¥¥æ–¯ç‰¹è±ªç‰¹å¾ªç¯è®ºè¯é“:â€œä¸ºä»€ä¹ˆäººä»¬ä¼šè½¬å‘ä¸€ç§è¯­è¨€ï¼Ÿå› ä¸ºè¿™æ ·æ›´å¥½ã€‚ä¸ºä»€ä¹ˆæ›´å¥½ï¼Ÿå› ä¸ºå¾ˆå¤šäººéƒ½è½¬è¡Œäº†ã€‚â€ç„¶è€Œï¼Œä»–çš„è®ºç‚¹å€¼å¾—æ›´å®½æ³›çš„è§£é‡Šï¼Œå°¤å…¶æ˜¯å› ä¸ºæˆ‘ä»¬ç»å¸¸åœ¨ä»»ä½•ç‰¹å®šæŠ€æœ¯æ ˆçš„è®¸å¤šå…¶ä»–è®ºç‚¹ä¸­çœ‹åˆ°è¿™ç§æ¨ç†ï¼Œæ¯”å¦‚ï¼Œä½ çŒœå¯¹äº†ï¼ŒReact Nativeã€‚)

æ ¹æ® Ousterhout çš„è¯´æ³•ï¼Œç¼–ç¨‹è¯­è¨€å…·æœ‰å¯ä»¥ä½¿å®ƒä»¬å˜å¾—æ›´å¥½çš„ç‰¹æ€§*å…ˆéªŒ*(å³çº¯ç²¹å†…åœ¨çš„ç‰¹æ€§ï¼Œå¦‚ç¼–ç¨‹èŒƒå¼ã€è¯­æ³•ã€æ ‡å‡†åº“æˆ–å¯ç§»æ¤æ€§)å’Œå¯ä»¥ä½¿å®ƒä»¬å˜å¾—æ›´å¥½çš„ç‰¹æ€§*åéªŒ*(å³è¢«è®¸å¤šå¼€å‘äººå‘˜å¹¿æ³›é‡‡ç”¨)ã€‚å¦‚æœè¯­è¨€ A ä¸æ˜¯å…ˆå¤©æ¯”è¯­è¨€ B æ›´å¥½ï¼Œé‚£ä¹ˆè¯­è¨€ A å…ˆå¤©æ¯”è¯­è¨€ B æ›´å¥½å¹¶ä¸é‡è¦

æ¢å¥è¯è¯´ï¼Œé‡‡ç”¨èƒœè¿‡æŠ€æœ¯ä¼˜åŠ¿(ä¸ç®¡è¯­è¨€è®¾è®¡è€…å¦‚ä½•å®šä¹‰ä¼˜åŠ¿)ã€‚

å¥¥æ–¯ç‰¹èƒ¡ç‰¹çš„è§‚ç‚¹ç™»ä¸Šäº†å”±ç‰‡å°é¢:

![](img/5ff5b2e22a5d17cec9b923578df9c069.png)

æ­Œæ‰‹çš„ç²‰ä¸è¶Šå¤šè¶Šå¥½ã€‚é‡ç‚¹æ˜¯ï¼Œäººæ°”ï¼Œä¸ç®¡æ˜¯ç²‰ä¸é‡åŒ–çš„ï¼Œè¿˜æ˜¯çƒ­é—¨å”±ç‰‡ï¼Œéƒ½æ˜¯è¯„ä»·æ­Œæ‰‹çš„ä¸€ä¸ªå¾ˆå¥½çš„æ ‡å‡†ã€‚

ä½†æ˜¯ï¼Œä¸€é—¨è¯­è¨€è¢«å¹¿æ³›é‡‡ç”¨å¹¶æ‹¥æœ‰ä¸€ä¸ªé—ªäº®çš„åº”ç”¨ç¨‹åºå±•ç¤ºçª—å£çš„äº‹å®ä¸åº”è¯¥å½±å“ä½ å¯¹å®ƒçš„ä»·å€¼çš„åˆ¤æ–­ã€‚

ä½¿ç”¨æŠ€æœ¯ X æ„å»ºçš„å¤æ‚æˆ–å¥½çœ‹çš„åº”ç”¨ç¨‹åºåº“ä»…ä»…æ„å‘³ç€æŠ€æœ¯ X *å¯ä»¥*ç”¨äºæ„å»ºå¤æ‚æˆ–å¥½çœ‹çš„åº”ç”¨ç¨‹åºï¼›ä½†è¿™å¹¶ä¸æ˜¯è¿™é¡¹å·¥ä½œçš„æœ€ä½³å·¥å…·ã€‚

ä¸–ç•Œå„åœ°çš„å‡ åä¸ªæ²™å ¡æ¯”èµ›å‘ä½ å±•ç¤ºäº†åªç”¨æ²™å­å’Œæ°´å°±èƒ½å»ºé€ çš„ç¾ä¸½å»ºç­‘ã€‚è¿™å¯èƒ½è¯æ˜äº†æ²™å­æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ç©å…·çš„æ–­è¨€ï¼Œä½†æ˜¯ä»…ä»…æ˜¯æ²™å ¡æ¯”èµ›è¿˜ä¸è¶³ä»¥è¯´æœä½ åº”è¯¥ç”¨æ²™å­å»ºé€ è‡ªå·±çš„æˆ¿å­ã€‚ç„¶è€Œè®¸å¤šäººç›¸ä¿¡ã€‚

æ²¼æ³½åŸå ¡ä¹‹ç‹æ˜¯ä¼—å¤šé»‘å®¢ä¹‹ç‹ã€‚

![nice sandcastle](img/8c67e393b87e02633b68feb38c1eb447.png)

åŒæ ·ï¼Œæµè¡Œåº¦ä¹Ÿæ˜¯è¯„ä»·ç¼–ç¨‹è¯­è¨€çš„ä¸å¯é æ ‡å‡†ã€‚ä¸€ä¸ªéå¸¸åŸºæœ¬çš„åŸå› æ˜¯:æµè¡Œå¾ˆå¯èƒ½æ˜¯ä¾›åº”å•†é”å®š(å°±åƒæ˜¯å”¯ä¸€å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ç¼–ç¨‹è¯­è¨€)ã€è·Ÿé£æ•ˆåº”æˆ–é—ç•™ä»£ç åº“çš„ç»“æœã€‚

ç¨‹åºè®¾è®¡è¯­è¨€çš„å†…åœ¨ç‰¹å¾(å¦‚é˜²æ­¢ç¨‹åºå‘˜å‡ºé”™çš„æªæ–½ã€æ ‡å‡†åº“ã€å¯ç§»æ¤æ€§ç­‰)ã€‚)æ˜¯ä½ åº”è¯¥æ ¹æ®çš„æ ‡å‡†ã€‚å®ƒä»¬æ˜¯ç”Ÿäº§ç‡æé«˜çš„åŸºç¡€ã€‚

äº‹å®ä¸Šï¼Œè®¸å¤šäº‹æƒ…ä¼šå¯¼è‡´è´Ÿçš„ç”Ÿäº§ç‡å¢é•¿ã€‚ä¾‹å¦‚:

*   ç¼ºä¹é˜²æ­¢ä½ çŠ¯å¯é¿å…é”™è¯¯çš„å®‰å…¨æªæ–½
*   ä¸€ä¸ªå¾ˆå°çš„æ ‡å‡†åº“ï¼Œä¸é€‚åˆå¤§å¤šæ•°ç”¨é€”
*   è®©ä½ æ— æ³•æ¸…æ¥šè¡¨è¾¾æ„å›¾çš„è¯­æ³•å’Œè¯­ä¹‰
*   ç¼“æ…¢çš„å‘å±•é€Ÿåº¦
*   ä»¥ä¸Šå…¨éƒ¨(JavaScript)

## å±å›½

React Native æ€»å…±æœ‰ 648 ä¸ªä¾èµ–é¡¹ã€‚

![648 total dependencies](img/4a31c3031b3e6e067bd6609d8331ecea.png)

è¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºä¾èµ–é“¾åœ¨ React Native çš„åŒ…ç®¡ç†å™¨çš„ä¸–ç•Œé‡Œå¯èƒ½å¾ˆé•¿ã€‚

è¿™å±•ç¤ºäº†å¼€æºçš„å‹è°Š:ä½ çš„åº”ç”¨æ˜¯å»ºç«‹åœ¨ 600 å¤šäººçš„æŒç»­åŠªåŠ›ä¹‹ä¸Šçš„ã€‚

è¿™ä¹Ÿæ˜¯ä¸€ä¸ªé™·é˜±:ä½ ä¾èµ– 648 åå¿—æ„¿è€…åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…ç»´æŠ¤ä»–ä»¬çš„åº“ï¼Œè€Œæ²¡æœ‰ä»»ä½•æ­£å¼çš„æ‰¿è¯ºã€‚

ä»–ä»¬çš„è®¸å¯è¯ä¼šä¸ä½ çš„è½¯ä»¶å…¼å®¹å—ï¼Ÿå¸Œæœ›å¦‚æ­¤ã€‚

ä»–ä»¬æ˜¯å¦éƒ½ä¼šå®æ–½å®‰å…¨æ–¹é¢çš„æœ€ä½³å®è·µï¼Ÿè¿˜æ˜¯èƒ½å®¹å¿ 648 ä¸ªå•ç‹¬çš„æ½œåœ¨å®‰å…¨éšæ‚£ï¼Ÿ

## æ›´å¥½çš„é€‰æ‹©

å¦‚æœè·¨å¹³å°å¼€å‘æ˜¯å¸å¼•æ‚¨ä½¿ç”¨ Native çš„åŸå› ï¼Œè¯·è€ƒè™‘æ‚¨çš„é€‰æ‹©ã€‚

React Native é¢ä¸´ä¸¤ä¸ªå·²å»ºç«‹çš„è·¨å¹³å°å¼€å‘å¹³å°çš„å¼ºå¤§ç«äº‰:Xamarin å’Œ Appceleratorã€‚

Xamarin å’Œ Appcelerator éƒ½æä¾›å¯¹ iOSã€Androidã€*å’Œ* Windows Phone çš„æ”¯æŒã€‚ä»–ä»¬éƒ½æœ‰:

*   æ›´å…¨é¢çš„ API
*   æ›´æˆç†Ÿçš„ ide
*   æ›´å¥½çš„æ–‡æ¡£
*   æ›´æ¸…æ™°å‹å¥½çš„è®¸å¯
*   åŒç­‰(å¦‚æœä¸æ˜¯æ›´å¥½)æ€§èƒ½

Xamarin æ˜¯ç”¨ C#å¼€å‘çš„ï¼Œé€šå¸¸æ¯” JavaScript æ›´ä¸å®¹æ˜“å‡ºé”™ï¼Œè¡¨è¾¾èƒ½åŠ›æ›´å¼ºã€‚å¦‚æœä½ ç›¸ä¿¡ JavaScriptï¼ŒAppcelerator å¼€å‘å°±æ˜¯ç”¨ JavaScriptã€‚

ä¸ React Native ç›¸æ¯”ï¼ŒXamarin å’Œ Appcelerator åœ¨å¯¿å‘½æ–¹é¢éƒ½æœ‰æ›´å¥½çš„å‰æ™¯ã€‚appcelerator(Titanium çš„åˆ¶é€ å•†)(åœ¨ 3.5 äº¿å°è®¾å¤‡ä¸Šå®‰è£…çš„åº”ç”¨ç¨‹åºä¸Šè¿è¡Œ)äº 2016 å¹´ 1 æœˆè¢«æ”¶è´­ï¼ŒXamarin(è¢«ä¸€ç™¾å¤šå®¶è´¢å¯Œ 500 å¼ºå…¬å¸ä½¿ç”¨)äº 2016 å¹´ 2 æœˆè¢«(å¾®è½¯)æ”¶è´­ã€‚ä¸¤å®¶å…¬å¸æ­¤å‰éƒ½ç­¹é›†äº†é€¾ 8000 ä¸‡ç¾å…ƒçš„è‚¡æƒèèµ„ã€‚

å¦‚æœé¡¹ç›®å¾—åˆ°é‚£äº›*ä¸šåŠ¡*æ˜¯ä¸ºæˆ‘æä¾›ä¸€ä¸ªå¯é çš„è½¯ä»¶å¼€å‘å¹³å°çš„å…¬å¸çš„æ”¯æŒï¼Œé‚£ä¹ˆå®ƒä»¬æ›´æœ‰å¯èƒ½åœ¨è¿™ä¸ªè·¨å¹³å°æ¡†æ¶çš„çº¢æµ·ä¸­ç”Ÿå­˜å¹¶èŒå£®æˆé•¿(æˆ‘æœ€è¿‘ç»Ÿè®¡äº†è¶…è¿‡ 10 ä¸ªå¤„äºæ´»è·ƒå¼€å‘ä¸­çš„é¡¹ç›®)ã€‚

(å€¼å¾—ä¸€æçš„æ˜¯ Flutterï¼Œè¿™æ˜¯ä¸€ä¸ªç”±è°·æ­Œå¼€å‘çš„è·¨å¹³å°å¼€å‘å¹³å°(iOS å’Œ Android)ã€‚å®ƒä½¿ç”¨ä¸€ç§æ¯” JavaScript (Dart)æ›´å®‰å…¨ã€æ›´å…·è¡¨ç°åŠ›çš„è¯­è¨€ï¼Œå¸®åŠ©ä½ éµå¾ªææ–™è®¾è®¡çš„åŸåˆ™ï¼Œå¹¶äº§ç”ŸåŸç”Ÿç¼–è¯‘çš„ä»£ç ã€‚ä¸ Xamarin å’Œ Appcelerator ä¸åŒï¼Œå®ƒæ˜¯å¼€æºçš„ã€‚å®ƒç›®å‰è¿˜ä¸èƒ½æŠ•å…¥ç”Ÿäº§ï¼Œä½†ä»ç„¶å¾ˆæœ‰å‰é€”ã€‚)

# ç»“è®º

å¥½çš„è½¯ä»¶å¼€å‘å¹³å°æœ‰å››ä¸ªåŸºæœ¬ç‰¹å¾ã€‚

*   å¯ç§»æ¤æ€§â€”â€”å¯ä»¥é¢å‘å¤šä¸ªå¹³å°ã€‚
*   ç”Ÿäº§åŠ› IDE å’Œå…¶ä»–å¼€å‘å·¥å…·ã€æ–‡æ¡£çš„æˆç†Ÿåº¦ï¼Œä»¥åŠå¼€å‘è¯­è¨€çš„è¡¨è¾¾èƒ½åŠ›ã€‚
*   å®‰å…¨â€”â€”å¹³å°é˜²æ­¢ä½ çŠ¯é”™çš„ç¨‹åº¦ã€‚
*   å¯¿å‘½â€”â€”åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œè¿™ä¸ªå¹³å°å­˜åœ¨çš„å¯èƒ½æ€§æœ‰å¤šå¤§ã€‚

å°½ç®¡æˆ‘ä»¬çš„è¡Œä¸š(*ä»ç„¶*)æ²¡æœ‰å»ºç«‹å¼€æ”¾çš„æ ‡å‡†æ¥è¡¡é‡è¿™äº›ï¼Œæˆ‘è¿˜æ˜¯æƒ³æ ¹æ®æˆ‘çš„ç»éªŒå’Œç ”ç©¶æä¾›æˆ‘çš„è¯„ä»·ã€‚

React Native åœ¨å¯ç§»æ¤æ€§å’Œç”Ÿäº§åŠ›æ–¹é¢çš„ä¼˜åŠ¿è¢«å…¶åœ¨å®‰å…¨æ€§æ–¹é¢çš„ä¸è¶³ã€å…¶é•¿æœŸè·¯çº¿å›¾çš„ä¸ç¡®å®šæ€§ä»¥åŠä»¤äººç”Ÿç•çš„ä¸“åˆ©è®¸å¯æ‰€æŠµæ¶ˆ:

![React Native Radar Chart](img/865800221f6334765b3209402521022e.png)

Xamarin å’Œ Appcelerator ç­‰æˆç†Ÿå¹³å°æä¾›äº†æœ€ä½³çš„å¯ç§»æ¤æ€§(æ”¯æŒ Windows phone)ï¼Œå…¶æˆç†Ÿçš„å¼€å‘å·¥å…·å’Œç¼–ç¨‹è¯­è¨€é€‰æ‹©ä¹Ÿå°†æé«˜ç”Ÿäº§ç‡å’Œå®‰å…¨æ€§ï¼Œå¹¶ä¸”å®ƒä»¬æ˜¯èµ„é‡‘é›„åšçš„å…¬å¸çš„æ ¸å¿ƒäº§å“è¿™ä¸€äº‹å®ä¸ºå…¶å¯¿å‘½æä¾›äº†è‰¯å¥½çš„ä¿è¯:

![Xamarin/Appcelerator Radar Chart](img/679797ebc5bfe695429c89b9c171cd8a.png)

å°±å®‰å…¨æ€§ã€å¯¿å‘½å’Œç”Ÿäº§ç‡è€Œè¨€ï¼Œå¿«é€Ÿå¼€å‘æ˜¯èµ¢å®¶ã€‚å®ƒçš„å¯ç§»æ¤æ€§ç›¸å¯¹è¾ƒä½ï¼Œä½†ä¸å¯å¿½ç•¥:å®ƒä¸å…è®¸ä½ æ„å»ºä¸€ä¸ª Android ç‰ˆæœ¬çš„åº”ç”¨ç¨‹åºï¼Œä½†å…è®¸ä½ æ„å»ºä¸€ä¸ª macOS ç‰ˆæœ¬ï¼Œå¹¶å…è®¸ä½ ç¼–å†™åº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨åç«¯:

![Swift Radar Chart](img/ac471745bfc6721100a7b167d2df982c.png)

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¸æ˜¯ React æœ¬åœ°å¼€å‘äººå‘˜çš„åŸå› ã€‚

# æ‰¿è®¤

æ„Ÿè°¢ Rami Chowdhury å’Œ Alkis Papadakis å¯¹æœ¬æ–‡æ—©æœŸç‰ˆæœ¬çš„æœ‰ç›Šåé¦ˆã€‚ä¹Ÿæ„Ÿè°¢æ ¼é›·æ ¼éº¦å…‹é©¬ä¼¦å¸®åŠ©æˆ‘ç ´è¯‘æ·±å¥¥çš„çŸ¥è¯†äº§æƒæ–‡æœ¬ã€‚

# å˜æ›´æ—¥å¿—

ä½ å¯ä»¥åœ¨è¿™é‡Œè¿½è¸ªè¿™ç¯‡æ–‡ç« çš„ç¼–è¾‘[ã€‚](https://github.com/arielelkin/arielelkin.github.io/commits/master/articles/why-im-not-a-react-native-developer.html)

åœ¨[é»‘å®¢æ–°é—»](https://news.ycombinator.com/item?id=12549590)ã€[é»‘å®¢æ–°é—»(å†)](https://news.ycombinator.com/item?id=12592762)ã€[/r/ç¼–ç¨‹](https://www.reddit.com/r/programming/comments/53yxk5/why_im_not_a_react_native_developer/)ä¸Šå…³æ³¨å¹¶å‚ä¸æœ¬æ–‡çš„è®¨è®ºã€‚

ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»è¿™ç¯‡æ–‡ç« çš„éŸ©è¯­ç¿»è¯‘(ç”±[å¡çº³çš®å¥¥](https://twitter.com/canapio/status/812803213460049921)æä¾›)ã€‚

# å‚è€ƒ

### é™„å½•:React Native ä¸“åˆ©é—®é¢˜çš„æ›´è¯¦ç»†åˆ†ç±»

æ ¼é›·æ ¼Â·éº¦å…‹é©¬ä¼¦ã€‚

```
# None of this is legal advice! Just my reading of the license. If you want advice specific to you, see your own lawyer.

# If you sue Facebook for patent infringement and any of these three conditions are met, the license is terminated.

IF
You (or any of your subsidiaries, corporate affiliates or agents) initiate directly or indirectly, or take a direct financial interest in, any Patent Assertion

  (i) against Facebook or any of its subsidiaries or corporate affiliates,

  OR
  (ii) against any party if such Patent Assertion arises in whole or in part from any software, technology, product or
        service of Facebook or any of its subsidiaries or corporate affiliates,

  OR
  (iii) against any party relating to the Software:

THEN
The license granted hereunder will terminate, automatically and without notice.

# If Facebook sues you for patent infringement, you can make a patent infringement counter-claim against them without the license being terminated.

IF
1) Facebook or any of its subsidiaries or corporate affiliates files a lawsuit alleging patent infringement against you in the first instance,

AND
2) you respond by filing a patent infringement counterclaim in that lawsuit against that party that is unrelated to the Software,

THEN
The license will not terminate due to such counterclaim.

# Just to be clear, the license also won't terminate if Facebook sues you and you don't make a counterclaim 
```***